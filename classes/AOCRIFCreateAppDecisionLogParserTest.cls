@IsTest
private class AOCRIFCreateAppDecisionLogParserTest {

    @IsTest
    private static void testHappyPath() {
        String testData = '{"applicant":{"person":{"tax_id":"599-99-1112","first_name":"Aaron","last_name":"Hansen","birth_date":"1982-01-03","home_phone":{"country_code":null,"phone_number":"3081231234","extension":null},"mobile_phone":{"country_code":null,"phone_number":null,"extension":null},"work_phone":{"country_code":null,"phone_number":null,"extension":null},"email":"avokatest123@iccu.com","identification":{"type":"drivers_license","id_number":"DB195346C","issuing_authority":"ID","issue_date":"1988-07-06","expire_date":"1988-07-06"},"primary_address":{"line_1":"123 Main Street","line_2":"","city":"Twin Falls","state":"ID","postal_code":"83301","country":"USA","is_preferred":true},"user_fields":[]},"persona":"unknown","membership_eligibility":"","system_info":[{"system_name":"SFDC","everything":"","status":"success","decision":"APPROVE","tracking_number":"XHCVWHN","system_display_name":"SFDC-Contact Check"},{"system_name":"CreateApp","everything":"<s:Envelope xmlns:s=\\"http://schemas.xmlsoap.org/soap/envelope/\\"><s:Body xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\" xmlns:xsd=\\"http://www.w3.org/2001/XMLSchema\\"><SubmitExResponse xmlns=\\"http://tempuri.org/\\"><SubmitExResult><routing xmlns=\\"BizTalkMessage\\"><org orgID=\\"4\\" orgCode=\\"ICCU\\"/><action transactionType=\\"API\\"/><user userName=\\"ICCUImportUser\\"/><interface interfaceID=\\"600001\\"/><system/><approResult><result>Success</result></approResult></routing><body xmlns=\\"BizTalkMessage\\"><actionAPI version=\\"1\\" xmlns=\\"\\"><createApp><msg:appImportResponse msg:approVersion=\\"4.1\\" xmlns:msg=\\"Messages\\" xmlns:app=\\"App\\" xmlns:maint=\\"Maint\\" xmlns:util=\\"Util\\" xmlns:common=\\"Common\\"><msg:approResult><common:result>Success</common:result></msg:approResult><msg:appIDs><msg:appID>30007340</msg:appID></msg:appIDs><msg:applications><app:files/><app:application app:applicationID=\\"30007340\\" app:appNum=\\"30007340\\" app:appReceivedDate=\\"2018-08-15T15:05:29.176\\" app:appInitiatedDate=\\"2018-08-15T15:05:29.176\\" app:priorityCD=\\"High\\" app:deliveryMethodCD=\\"Internet\\" app:applicantStructureTypeCD=\\"Individual\\" app:referenceNumber=\\"AVOKA-DEV-886ba90e-2d52-42c6-974e-f3b5513517e2\\"><app:appParties><app:primaryBorrower common:idRef=\\"bd841526-48fb-43f3-9132-7b67e3b65b29\\" common:partyType=\\"Individual\\"><app:appPartyResources><app:appPartyResource app:resourceID=\\"98\\"/></app:appPartyResources></app:primaryBorrower><app:sourceChannel common:idRef=\\"b8c9d648-3fb7-48f6-988e-ce6b5332f448\\" common:partyType=\\"Channel\\" app:appPartyType=\\"SourceChannel\\"/><app:servicingChannel common:idRef=\\"5f798809-1215-40a7-bed6-52fc700c4bfc\\" common:partyType=\\"Channel\\" app:appPartyType=\\"ServicingChannel\\"/></app:appParties><app:parties><common:employer common:id=\\"cfe014ba-8b3d-4609-a767-7ff380eebcfd\\" common:partyID=\\"1007112\\" common:languageID=\\"English\\" common:beginDate=\\"2018-08-15T21:05:31.613\\" common:name=\\"Centurylink\\"><common:contactMechanisms><common:contactMechanism common:contactMechanismID=\\"3148826\\" common:contactMechanismType=\\"WorkPhone\\" common:contactString=\\"2087659987\\" common:isPreferredContactMechanismFL=\\"false\\"><common:contactMechanismCategory common:isNew=\\"false\\" common:CD=\\"1\\"/></common:contactMechanism></common:contactMechanisms></common:employer><common:channel common:id=\\"5f798809-1215-40a7-bed6-52fc700c4bfc\\" common:isNew=\\"false\\" common:partyID=\\"12009\\"/><common:user common:id=\\"801f914d-b637-41b3-af83-d9be2f8bb793\\" common:isNew=\\"false\\" common:partyID=\\"990547\\" common:beginDate=\\"2018-05-08T14:40:31.73\\" common:timeZoneCode=\\"MST\\"><common:partyTypes><common:partyType>User</common:partyType><common:partyType>LoanOfficer</common:partyType></common:partyTypes></common:user><common:channel common:id=\\"b8c9d648-3fb7-48f6-988e-ce6b5332f448\\" common:isNew=\\"false\\" common:partyID=\\"12009\\"/><common:organization common:id=\\"6b1fc6f4-5385-4669-8e8f-19041cc91924\\" common:isNew=\\"false\\" common:partyID=\\"4\\" common:name=\\"Idaho Central CU\\" common:description=\\"LoanCenter\\"><common:partyRelationships><common:partyRelationship common:relationshipType=\\"OrganizationToCustomerDataOwnership\\"><common:partyRef common:isNew=\\"false\\" common:idRef=\\"bd841526-48fb-43f3-9132-7b67e3b65b29\\" common:partyType=\\"Individual\\"/></common:partyRelationship></common:partyRelationships></common:organization><common:group common:id=\\"acd871aa-21f5-4e6c-a4ec-054a6deeb2b8\\" common:isNew=\\"false\\" common:partyID=\\"11878\\"><common:partyTypes><common:partyType>Team</common:partyType></common:partyTypes></common:group><common:individual common:id=\\"bd841526-48fb-43f3-9132-7b67e3b65b29\\" common:partyID=\\"1007111\\" common:languageID=\\"English\\" common:beginDate=\\"2018-08-15T21:05:31.597\\" common:ssn=\\"599991112\\" common:firstName=\\"Aaron\\" common:lastName=\\"Hansen\\" common:dob=\\"1982-01-03\\" common:age=\\"36\\" common:mothersMaidenName=\\"null\\" common:isPermanentResidentFL=\\"false\\" common:hasAlienRegNumFL=\\"false\\" common:numOfDependants=\\"0\\" common:isExistingCustomerFL=\\"false\\"><common:contactMechanisms><common:contactMechanism common:contactMechanismID=\\"3148820\\" common:contactMechanismType=\\"CurrentAddress\\" common:isPreferredContactMechanismFL=\\"false\\"><common:addressRef common:isNew=\\"false\\" common:idRef=\\"7cda0b9e-71d0-4dae-9883-45b580ff31c4\\"/><common:contactMechanismCategory common:isNew=\\"false\\" common:CD=\\"2\\"/></common:contactMechanism><common:contactMechanism common:contactMechanismID=\\"3148821\\" common:contactMechanismType=\\"MailingAddress\\" common:isPreferredContactMechanismFL=\\"false\\"><common:addressRef common:isNew=\\"false\\" common:idRef=\\"7cda0b9e-71d0-4dae-9883-45b580ff31c4\\"/><common:contactMechanismCategory common:isNew=\\"false\\" common:CD=\\"2\\"/></common:contactMechanism><common:contactMechanism common:contactMechanismID=\\"3148822\\" common:contactMechanismType=\\"HomePhone\\" common:contactString=\\"2084661111\\" common:isPreferredContactMechanismFL=\\"false\\"><common:contactMechanismCategory common:isNew=\\"false\\" common:CD=\\"1\\"/></common:contactMechanism><common:contactMechanism common:contactMechanismID=\\"3148823\\" common:contactMechanismType=\\"WorkPhone\\" common:contactString=\\"2089493333\\" common:isPreferredContactMechanismFL=\\"false\\"><common:contactMechanismCategory common:isNew=\\"false\\" common:CD=\\"1\\"/></common:contactMechanism><common:contactMechanism common:contactMechanismID=\\"3148824\\" common:contactMechanismType=\\"CellPhone\\" common:contactString=\\"2084662222\\" common:isPreferredContactMechanismFL=\\"false\\"><common:contactMechanismCategory common:isNew=\\"false\\" common:CD=\\"1\\"/></common:contactMechanism><common:contactMechanism common:contactMechanismID=\\"3148825\\" common:contactMechanismType=\\"EMail\\" common:contactString=\\"avokatest123@gmail.com\\" common:isPreferredContactMechanismFL=\\"false\\"><common:contactMechanismCategory common:isNew=\\"false\\"/></common:contactMechanism></common:contactMechanisms><common:partyRelationships><common:employment common:relationshipType=\\"Employment\\"><common:partyRef common:isNew=\\"true\\" common:idRef=\\"cfe014ba-8b3d-4609-a767-7ff380eebcfd\\" common:partyType=\\"Employer\\"/><common:employmentSubRel common:isNew=\\"false\\" common:isCurrentFL=\\"true\\" common:title=\\"testing\\" common:monthsEmployed=\\"209\\" common:employmentType=\\"FullTime\\"><common:userEmploymentType common:isNew=\\"false\\" common:CD=\\"2\\"/></common:employmentSubRel></common:employment></common:partyRelationships><common:partyIdentifications><common:partyIdentification common:IDNum=\\"DB195346C\\" common:dateOfIssuance=\\"1988-07-06T00:00:00-05:00\\" common:issuanceEntity=\\"ID\\" common:expirationDate=\\"1988-07-06T00:00:00-05:00\\" common:partyIdentificationID=\\"11471\\"><common:identificationCD common:isNew=\\"false\\" common:lookupType=\\"IdentificationType\\" common:CD=\\"D\\" common:name=\\"Salesforce Drivers License\\" common:isActive=\\"true\\"/></common:partyIdentification></common:partyIdentifications><common:incomes><common:income common:incomeID=\\"18732\\" common:IncomeTypeCD=\\"Salary\\" common:frequency=\\"Annually\\" common:amountPerPeriod=\\"75000\\" common:hoursPerWeek=\\"40\\" common:incomeStatus=\\"IncomeStatus_Included\\" common:incomeAdjustmentPercentage=\\"1\\"><common:employerRef common:isNew=\\"true\\" common:idRef=\\"cfe014ba-8b3d-4609-a767-7ff380eebcfd\\"/></common:income></common:incomes><common:trades><common:trade common:tradeID=\\"127572\\" common:accountTypeCD=\\"RealEstateMortgage\\" common:tradeTypeID=\\"Mortgage\\" common:creditorName=\\"\\" common:debtStatusCD=\\"Include\\" common:ecoaCD=\\"Individual\\" common:monthlyPayment=\\"1100\\" common:isCurrResidenceRentMortgage=\\"true\\" common:isSecured=\\"true\\"><common:kindOfBusiness common:isNew=\\"false\\" common:lookupType=\\"KOB\\" common:CD=\\"FM\\"/></common:trade></common:trades></common:individual></app:parties><app:appDetails><app:appDetailBankcard app:appDetailID=\\"11233\\" app:appDetailSavePoint=\\"Current\\" app:contractDate=\\"2018-08-15T21:05:31.6233309\\" app:contractRate=\\"0.000\\" app:financedAmt=\\"500\\" app:equityPercentage=\\"0\\" app:termInMonths=\\"0\\" app:margin=\\"0.0949\\" app:daysPerYear=\\"360\\" app:loanType=\\"Consumer\\" app:interestRateType=\\"Variable\\" app:rankNum=\\"1\\" app:maxRateAdjInc=\\"0.050\\" app:maxRateAdjDec=\\"0.020\\" app:maxContractRate=\\"0.1799\\" app:minContractRate=\\"0.1099\\" app:lifetimeInterestRateMinimum=\\"0.1099\\" app:baseRate=\\"0.04500000\\" app:requestType=\\"New\\" app:insuranceOptionID=\\"1\\" app:paymentCalculationType=\\"PctOfAmountRequested\\" app:requestedAmountPaymentPct=\\"0.020\\"><app:appDetailParties><app:appDetailParty common:idRef=\\"b8c9d648-3fb7-48f6-988e-ce6b5332f448\\" common:partyType=\\"Channel\\" app:appPartyType=\\"SourceChannel\\"/><app:appDetailParty common:idRef=\\"5f798809-1215-40a7-bed6-52fc700c4bfc\\" common:partyType=\\"Channel\\" app:appPartyType=\\"ServicingChannel\\"/><app:appDetailParty common:idRef=\\"801f914d-b637-41b3-af83-d9be2f8bb793\\" common:partyType=\\"User\\" app:appPartyType=\\"LoanOfficer\\"/><app:appDetailParty common:idRef=\\"acd871aa-21f5-4e6c-a4ec-054a6deeb2b8\\" app:appPartyType=\\"QueuedFromUser\\"/></app:appDetailParties><app:appDetailRequestedAmts><app:appDetailRequestedAmt app:appDetailRequestedAmtID=\\"81109\\" app:requestedAmount=\\"500\\" app:requestedAmountType=\\"Generic\\"/></app:appDetailRequestedAmts><app:appDetailStatuses><app:appDetailStatus app:appDetailStatusID=\\"31177\\" app:statusType=\\"WorkflowStatus\\" app:status=\\"WorkflowStatus_DataAcquisition\\"/></app:appDetailStatuses><app:product common:isNew=\\"false\\" common:productID=\\"134\\" common:beginDate=\\"2016-05-16T00:00:00\\" common:shortName=\\"Premier Rewards Visa\\" common:name=\\"Premier Rewards Visa\\" common:isActiveFL=\\"true\\" common:productTypeID=\\"CreditCard\\" common:loanType=\\"Consumer\\" common:liquidCreditProductCategoryCD=\\"2000\\" common:orgID=\\"4\\"><common:organizationRef common:isNew=\\"false\\" common:idRef=\\"54df1988-96bf-4c8e-9b87-5d0304947932\\"/><common:productCategory common:isNew=\\"false\\" common:productCategoryID=\\"25\\" common:name=\\"Credit Card Products\\" common:description=\\"Credit Card Products\\" common:isActiveFL=\\"true\\"><common:organizationRef common:isNew=\\"false\\" common:idRef=\\"54df1988-96bf-4c8e-9b87-5d0304947932\\"/></common:productCategory><common:initialTeamRef common:isNew=\\"false\\" common:idRef=\\"730a1a9a-a86d-49f9-ad02-503b1ad53c05\\"/><common:productFormPackage common:isNew=\\"false\\" common:CD=\\"1\\" common:name=\\"Credit Card\\" common:formPackageTypeID=\\"1\\"/></app:product><app:appDetailStipulations><app:appDetailStipulation app:appDetailStipulationID=\\"73557\\" app:status=\\"Open\\" app:name=\\"Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger.\\"><app:stipulation common:isNew=\\"false\\" common:stipulationID=\\"16\\" common:name=\\"Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger.\\" common:sortOrder=\\"0\\"/><app:stipulationSource common:isNew=\\"false\\" common:CD=\\"2\\"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID=\\"73558\\" app:status=\\"Open\\" app:name=\\"Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification.\\"><app:stipulation common:isNew=\\"false\\" common:stipulationID=\\"17\\" common:name=\\"Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification.\\" common:sortOrder=\\"1\\"/><app:stipulationSource common:isNew=\\"false\\" common:CD=\\"2\\"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID=\\"73559\\" app:status=\\"Open\\" app:name=\\"Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates.\\"><app:stipulation common:isNew=\\"false\\" common:stipulationID=\\"18\\" common:name=\\"Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates.\\" common:sortOrder=\\"2\\"/><app:stipulationSource common:isNew=\\"false\\" common:CD=\\"2\\"/></app:appDetailStipulation></app:appDetailStipulations><app:riskProcessingLevel common:isNew=\\"false\\" common:lookupType=\\"RPL\\" common:CD=\\"1\\"/><app:pricingPlan common:isNew=\\"false\\" common:planID=\\"19\\"/><app:appDetailIndirect common:isNew=\\"false\\" app:payDealerNow=\\"false\\" app:payOriginationFeeNow=\\"false\\" app:calcOriginationFeeFL=\\"false\\" app:useCRBRRuleFL=\\"false\\" app:isOriginationFeeValuePct=\\"false\\" app:calcDiscountFL=\\"false\\" app:globalDiscountFL=\\"true\\" app:federalDisclosureFL=\\"false\\"/><app:loanPurposes><app:appDetailLoanPurpose app:rank=\\"1\\"><app:loanPurpose common:isNew=\\"false\\" common:CD=\\"18\\"/></app:appDetailLoanPurpose></app:loanPurposes><app:contractRateIndex common:isNew=\\"true\\" common:rateIndexID=\\"2\\"/><app:appDetailProcessQuestionResponses><app:appDetailQuestionResponse app:appDetailQuestionResponseID=\\"32931\\" app:processID=\\"51\\" app:ordernum=\\"2\\"><app:question common:isNew=\\"false\\" common:questionID=\\"86\\"/><app:lookupResponse common:isNew=\\"false\\" common:CD=\\"2\\"/></app:appDetailQuestionResponse></app:appDetailProcessQuestionResponses></app:appDetailBankcard></app:appDetails><app:properties/><app:addresses><common:address common:id=\\"7cda0b9e-71d0-4dae-9883-45b580ff31c4\\" common:addressID=\\"1489554\\" common:street1=\\"15122 Wagner Road\\" common:street2=\\"\\" common:postalCode=\\"83221\\" common:cityName=\\"Blackfoot\\" common:monthsResided=\\"220\\" common:state=\\"ID\\" common:country=\\"UnitedStates\\"><common:residenceType common:isNew=\\"false\\" common:CD=\\"N\\"/></common:address></app:addresses><app:scores/><app:org common:isNew=\\"false\\" common:idRef=\\"6b1fc6f4-5385-4669-8e8f-19041cc91924\\"/><app:appServiceRequests/><app:vehicleValuations/><app:deliverySource common:isNew=\\"false\\" common:CD=\\"600001\\"/><app:serviceRequestGroups/></app:application></msg:applications></msg:appImportResponse></createApp></actionAPI></body></SubmitExResult></SubmitExResponse></s:Body></s:Envelope>","status":"success","decision":"APPROVE","tracking_number":"ZXK7TTF","system_display_name":"CRIF - CreateApp"},{"system_name":"CrifDecisioning","everything":"<s:Envelope xmlns:s=\\"http://schemas.xmlsoap.org/soap/envelope/\\"><s:Body xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\" xmlns:xsd=\\"http://www.w3.org/2001/XMLSchema\\"><SubmitExResponse xmlns=\\"http://tempuri.org/\\"><SubmitExResult><routing xmlns=\\"BizTalkMessage\\"><org orgID=\\"4\\" orgCode=\\"ICCU\\"/><action transactionType=\\"API\\"/><user userName=\\"ICCUImportUser\\"/><interface interfaceID=\\"600001\\"/><system/><approResult><result>Success</result></approResult></routing><body xmlns=\\"BizTalkMessage\\"><actionAPI version=\\"1\\" xmlns=\\"\\"><sendToDecisioning><msg:appImportResponse msg:approVersion=\\"4.1\\" xmlns:msg=\\"Messages\\" xmlns:app=\\"App\\" xmlns:maint=\\"Maint\\" xmlns:util=\\"Util\\" xmlns:common=\\"Common\\"><msg:approResult><common:result>Success</common:result></msg:approResult><msg:appIDs><msg:appID>30007340</msg:appID></msg:appIDs><msg:applications><app:files/><app:application common:isNew=\\"false\\" app:applicationID=\\"30007340\\"><app:parties/><app:appDetails/><app:properties/><app:addresses/><app:scores/><app:appServiceRequests/><app:vehicleValuations/><app:serviceRequestGroups/></app:application></msg:applications></msg:appImportResponse></sendToDecisioning></actionAPI></body></SubmitExResult></SubmitExResponse></s:Body></s:Envelope>","status":"success","decision":"APPROVE","tracking_number":"ZXK7TTF","system_display_name":"CRIF - Decisioning"}]},"co_applicants":[],"products":[{"product_name":"Premier Rewards Visa","major_type":"CRIF","minor_type":"134"}],"promotions":[],"funding_info":{},"reports":[],"app_status":"complete","version":"3","form":{"name":"accountsandfunding","tracking_code":"ZXK7TTF","job_reference_code":"ZXK7TTF","url":"https://test.iccu.avoka-transact.com/apps/secure/form.htm?submitKey=7d0d72a41dfe8aba616181774f1539a1"},"application_id":""}';
        AOApplicationRestRequest request = AOApplicationRestRequest.parse(testData);
        AOApplicationInfo appInfo = new AOApplicationInfo(request);

        Test.startTest();

        AOCRIFCreateAppDecisionLogParser parser = new AOCRIFCreateAppDecisionLogParser();
        try {
            parser.parsePayload(request.applicant.system_info, appInfo);
        } catch(Exception e) {
            System.assert(false, 'Threw an exception: ' + e + ' stack trace: ' + e.getStackTraceString());
        }

        Test.stopTest();

        String systemName = parser.getSystemName();
        AOInteractionResult result = appInfo.systemInteractionResults.get(systemName);

        System.assertNotEquals(null, result);
        System.assertEquals(AOInteractionResult.State.SUCCESS, result.state);
        System.assertNotEquals(null, appInfo.loanApplicationIds);
        System.assertNotEquals(0, appInfo.loanApplicationIds.size());
        System.assertEquals(0, appInfo.errors.size(), 'Error: ' + appInfo.errors);
        System.assertEquals('30007340', appInfo.loanApplicationIds[0]);
    }

    @IsTest
    private static void testAllResponses() {
        // The setup for this is a little but different: I'm just wanting to test parsing the actual CRIF response because setting up the
        // test data is such a...difficulty...

        List<String> payloads = new String[]{
            // Small RV
            '<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"><s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><SubmitExResponse xmlns="http://tempuri.org/"><SubmitExResult><routing xmlns="BizTalkMessage"><org orgID="4" orgCode="ICCU"/><action transactionType="API"/><user userName="ICCUImportUser"/><interface interfaceID="600001"/><system/><approResult><result>Success</result></approResult></routing><body xmlns="BizTalkMessage"><actionAPI version="1" xmlns=""><createApp><msg:appImportResponse msg:approVersion="4.1" xmlns:msg="Messages" xmlns:app="App" xmlns:maint="Maint" xmlns:util="Util" xmlns:common="Common"><msg:approResult><common:result>Success</common:result></msg:approResult><msg:appIDs><msg:appID>30007371</msg:appID></msg:appIDs><msg:applications><app:files/><app:application app:applicationID="30007371" app:appNum="30007371" app:appReceivedDate="2017-09-27T04:00:00Z" app:appInitiatedDate="2018-08-16T19:12:34.114847Z" app:priorityCD="High" app:deliveryMethodCD="Internet" app:applicantStructureTypeCD="NoneSelected"><app:appParties><app:primaryBorrower common:idRef="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyType="Individual"><app:appPartyResources><app:appPartyResource app:resourceID="98"/></app:appPartyResources></app:primaryBorrower><app:sourceChannel common:idRef="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:partyType="Channel" app:appPartyType="SourceChannel"/><app:servicingChannel common:idRef="5f798809-1215-40a7-bed6-52fc700c4bfc" common:partyType="Channel" app:appPartyType="ServicingChannel"/></app:appParties><app:parties><common:individual common:id="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyID="1007164" common:languageID="English" common:beginDate="2018-08-16T19:12:34.14" common:ssn="123456789" common:firstName="justin" common:lastName="Test" common:dob="1990-01-08" common:mothersMaidenName="Paper" common:isPermanentResidentFL="false" common:hasAlienRegNumFL="false" common:numOfDependants="0"><common:contactMechanisms><common:contactMechanism common:contactMechanismID="3149008" common:contactMechanismType="CurrentAddress" common:isPreferredContactMechanismFL="false"><common:addressRef common:isNew="false" common:idRef="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f"/><common:contactMechanismCategory common:isNew="false" common:CD="2"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3149009" common:contactMechanismType="MailingAddress" common:isPreferredContactMechanismFL="false"><common:addressRef common:isNew="false" common:idRef="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f"/><common:contactMechanismCategory common:isNew="false" common:CD="2"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3149010" common:contactMechanismType="HomePhone" common:contactString="2082393000" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false" common:CD="1"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3149011" common:contactMechanismType="EMail" common:contactString="dchristensen@iccu.com" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false"/></common:contactMechanism></common:contactMechanisms><common:partyRelationships><common:employment common:relationshipType="Employment"><common:partyRef common:isNew="true" common:idRef="51ec82f1-6c74-4066-ba1a-a7283ae6aad0" common:partyType="Employer"/><common:employmentSubRel common:isNew="false" common:isCurrentFL="true" common:title="Police Officer" common:monthsEmployed="28" common:employmentType="FullTime"><common:userEmploymentType common:isNew="false" common:CD="2"/></common:employmentSubRel></common:employment></common:partyRelationships><common:partyIdentifications><common:partyIdentification common:IDNum="MD564654A" common:issuanceEntity="ID" common:expirationDate="2020-01-07T23:00:00-06:00" common:partyIdentificationID="11500"><common:identificationCD common:isNew="false" common:lookupType="IdentificationType" common:CD="D" common:name="Drivers_License" common:isActive="true"/></common:partyIdentification></common:partyIdentifications><common:incomes><common:income common:incomeID="18754" common:IncomeTypeCD="Salary" common:frequency="Annually" common:amountPerPeriod="42000.0" common:incomeStatus="IncomeStatus_Included" common:incomeAdjustmentPercentage="1"><common:employerRef common:isNew="true" common:idRef="51ec82f1-6c74-4066-ba1a-a7283ae6aad0"/></common:income></common:incomes><common:trades><common:trade common:tradeID="127677" common:accountTypeCD="RealEstateMortgage" common:tradeTypeID="Mortgage" common:creditorName="default" common:debtStatusCD="Include" common:ecoaCD="Individual" common:monthlyPayment="900.0" common:isCurrResidenceRentMortgage="true" common:isSecured="true"><common:kindOfBusiness common:isNew="false" common:lookupType="KOB" common:CD="FM"/></common:trade></common:trades></common:individual><common:channel common:id="5f798809-1215-40a7-bed6-52fc700c4bfc" common:isNew="false" common:partyID="12009"/><common:group common:id="cee04e1e-70d0-48c4-8f42-373fe1c63a70" common:isNew="false" common:partyID="11878"><common:partyTypes><common:partyType>Team</common:partyType></common:partyTypes></common:group><common:user common:id="801f914d-b637-41b3-af83-d9be2f8bb793" common:isNew="false" common:partyID="990547" common:beginDate="2018-05-08T14:40:31.73" common:timeZoneCode="MST"><common:partyTypes><common:partyType>User</common:partyType><common:partyType>LoanOfficer</common:partyType></common:partyTypes></common:user><common:channel common:id="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:isNew="false" common:partyID="12009"/><common:organization common:id="6b1fc6f4-5385-4669-8e8f-19041cc91924" common:isNew="false" common:partyID="4" common:name="Idaho Central CU" common:description="LoanCenter"><common:partyRelationships><common:partyRelationship common:relationshipType="OrganizationToCustomerDataOwnership"><common:partyRef common:isNew="false" common:idRef="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyType="Individual"/></common:partyRelationship></common:partyRelationships></common:organization><common:employer common:id="51ec82f1-6c74-4066-ba1a-a7283ae6aad0" common:partyID="1007165" common:languageID="English" common:beginDate="2018-08-16T19:12:34.17" common:name="Pocatello Police Department"><common:contactMechanisms><common:contactMechanism common:contactMechanismID="3149012" common:contactMechanismType="WorkPhone" common:contactString="4563156486" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false" common:CD="1"/></common:contactMechanism></common:contactMechanisms></common:employer></app:parties><app:appDetails><app:appDetailVehicle app:appDetailID="11268" app:appDetailSavePoint="Current" app:contractDate="2018-08-16T19:12:34.099224" app:contractRate="0.000" app:financedAmt="32000" app:equityPercentage="0" app:termInMonths="48" app:daysPerYear="360" app:calculationType="Installment" app:loanType="Consumer" app:interestRateType="Fixed" app:rankNum="1" app:maxContractRate="0.180" app:minContractRate="0.040" app:initialSalesPrice="32000" app:insuranceOptionID="1" app:varianceMode="false"><app:appDetailParties><app:appDetailParty common:idRef="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:partyType="Channel" app:appPartyType="SourceChannel"/><app:appDetailParty common:idRef="5f798809-1215-40a7-bed6-52fc700c4bfc" common:partyType="Channel" app:appPartyType="ServicingChannel"/><app:appDetailParty common:idRef="801f914d-b637-41b3-af83-d9be2f8bb793" common:partyType="User" app:appPartyType="LoanOfficer"/><app:appDetailParty common:idRef="cee04e1e-70d0-48c4-8f42-373fe1c63a70" app:appPartyType="QueuedFromUser"/></app:appDetailParties><app:appDetailProperties><app:appDetailProperty common:idRef="5b13c9b8-ec7b-4709-857f-c3ae504e49af" common:propertyType="Auto" common:propertySubType="NoneSelected" app:isCollateralFL="true" app:statusID="Active" app:includeInLTVCalculations="true"/></app:appDetailProperties><app:appDetailRequestedAmts><app:appDetailRequestedAmt app:appDetailRequestedAmtID="81311" app:requestedAmount="5000" app:requestedAmountType="Generic"/></app:appDetailRequestedAmts><app:appDetailStatuses><app:appDetailStatus app:appDetailStatusID="31522" app:statusType="WorkflowStatus" app:status="WorkflowStatus_DataAcquisition"/></app:appDetailStatuses><app:product common:isNew="false" common:productID="110" common:beginDate="2014-12-10T00:00:00" common:shortName="Small RV" common:name="Small RV" common:isActiveFL="true" common:productTypeID="RV" common:loanType="Consumer" common:liquidCreditProductCategoryCD="2200" common:orgID="4"><common:organizationRef common:isNew="false" common:idRef="f9f172d2-2741-4273-a50e-cf6372a93be0"/><common:productCategory common:isNew="false" common:productCategoryID="22" common:name="Direct Products" common:description="Direct Products" common:isActiveFL="true"><common:organizationRef common:isNew="false" common:idRef="f9f172d2-2741-4273-a50e-cf6372a93be0"/></common:productCategory><common:initialTeamRef common:isNew="false" common:idRef="d1ff4578-018a-4c09-bf32-b64a57384ab5"/><common:productFormPackage common:isNew="false" common:CD="4" common:name="Vehicle (Direct)" common:formPackageTypeID="1"/></app:product><app:appDetailStipulations><app:appDetailStipulation app:appDetailStipulationID="74240" app:status="Open" app:name="Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger."><app:stipulation common:isNew="false" common:stipulationID="16" common:name="Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger." common:sortOrder="0"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74241" app:status="Open" app:name="Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification."><app:stipulation common:isNew="false" common:stipulationID="17" common:name="Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification." common:sortOrder="1"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74242" app:status="Open" app:name="Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates."><app:stipulation common:isNew="false" common:stipulationID="18" common:name="Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates." common:sortOrder="2"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74243" app:status="Open" app:name="Valid drivers license Select satisfied if there is a valid DL imaged"><app:stipulation common:isNew="false" common:stipulationID="20" common:name="Valid drivers license Select satisfied if there is a valid DL imaged" common:sortOrder="4"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74244" app:status="Open" app:name="Title in hand imaged"><app:stipulation common:isNew="false" common:stipulationID="72" common:name="Title in hand imaged" common:sortOrder="3"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74245" app:status="Open" app:name="Verify Primary Borrower is Tax Owner on Share"><app:stipulation common:isNew="false" common:stipulationID="77" common:name="Verify Primary Borrower is Tax Owner on Share" common:sortOrder="5"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation></app:appDetailStipulations><app:riskProcessingLevel common:isNew="false" common:lookupType="RPL" common:CD="1"/><app:pricingPlan common:isNew="false" common:planID="16"/><app:appDetailIndirect common:isNew="false" app:payDealerNow="false" app:payOriginationFeeNow="false" app:calcOriginationFeeFL="false" app:useCRBRRuleFL="false" app:isOriginationFeeValuePct="false" app:calcDiscountFL="false" app:globalDiscountFL="true" app:federalDisclosureFL="false"/><app:loanPurposes><app:appDetailLoanPurpose app:rank="1"><app:loanPurpose common:isNew="false" common:CD="10"/></app:appDetailLoanPurpose></app:loanPurposes><app:appDetailProcessQuestionResponses><app:appDetailQuestionResponse app:appDetailQuestionResponseID="33177" app:processID="51" app:ordernum="0"><app:question common:isNew="false" common:questionID="86"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse><app:appDetailQuestionResponse app:processID="52" app:ordernum="0"><app:question common:isNew="false" common:questionID="78"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse><app:appDetailQuestionResponse app:processID="52" app:ordernum="1"><app:question common:isNew="false" common:questionID="80"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse><app:appDetailQuestionResponse app:processID="52" app:ordernum="2"><app:question common:isNew="false" common:questionID="79"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse></app:appDetailProcessQuestionResponses><app:vehicleValuations><app:appDetailVehicleValuation common:idRef="a9d74ac6-90c4-4669-b064-aeb45e2613ce" app:valueType="Retail"/></app:vehicleValuations></app:appDetailVehicle></app:appDetails><app:properties><common:propertyAuto common:id="5b13c9b8-ec7b-4709-857f-c3ae504e49af" common:propertyID="6585" common:propertySubType="Automobile" common:hasClearTitleFL="true" common:yearBuilt="2006" common:propertyType="RV" common:propertyUsageTypeID="Personal"><common:propertyVehicleValuations><common:propertyVehicleValuation common:idRef="a9d74ac6-90c4-4669-b064-aeb45e2613ce" common:isActive="true"/></common:propertyVehicleValuations></common:propertyAuto></app:properties><app:addresses><common:address common:id="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f" common:addressID="1489587" common:street1="159 Blue St." common:street2="" common:postalCode="83202" common:cityName="Pocatello" common:monthsResided="24" common:state="ID" common:country="UnitedStates"><common:residenceType common:isNew="false" common:CD="N"/></common:address></app:addresses><app:scores/><app:org common:isNew="false" common:idRef="6b1fc6f4-5385-4669-8e8f-19041cc91924"/><app:appServiceRequests/><app:vehicleValuations><common:vehicleValuation common:id="a9d74ac6-90c4-4669-b064-aeb45e2613ce" common:valuationID="2665" common:valuationType="Automatic" common:make="" common:model="" common:year="2001" common:state="ID" common:mileage="90000" common:newUsed="New" common:vin="" common:estimatedValue="15000" common:postalCode="83202"/></app:vehicleValuations><app:deliverySource common:isNew="false" common:CD="600001"/><app:serviceRequestGroups/></app:application></msg:applications></msg:appImportResponse></createApp></actionAPI></body></SubmitExResult></SubmitExResponse></s:Body></s:Envelope>',
            // Auto Refi
            '<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"><s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><SubmitExResponse xmlns="http://tempuri.org/"><SubmitExResult><routing xmlns="BizTalkMessage"><org orgID="4" orgCode="ICCU"/><action transactionType="API"/><user userName="ICCUImportUser"/><interface interfaceID="600001"/><system/><approResult><result>Success</result></approResult></routing><body xmlns="BizTalkMessage"><actionAPI version="1" xmlns=""><createApp><msg:appImportResponse msg:approVersion="4.1" xmlns:msg="Messages" xmlns:app="App" xmlns:maint="Maint" xmlns:util="Util" xmlns:common="Common"><msg:approResult><common:result>Success</common:result></msg:approResult><msg:appIDs><msg:appID>30007371</msg:appID></msg:appIDs><msg:applications><app:files/><app:application app:applicationID="30007370" app:appNum="30007370" app:appReceivedDate="2017-09-27T04:00:00Z" app:appInitiatedDate="2018-08-16T19:12:13.0992784Z" app:priorityCD="High" app:deliveryMethodCD="Internet" app:applicantStructureTypeCD="NoneSelected"><app:appParties><app:primaryBorrower common:idRef="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyType="Individual"><app:appPartyResources><app:appPartyResource app:resourceID="98"/></app:appPartyResources></app:primaryBorrower><app:sourceChannel common:idRef="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:partyType="Channel" app:appPartyType="SourceChannel"/><app:servicingChannel common:idRef="5f798809-1215-40a7-bed6-52fc700c4bfc" common:partyType="Channel" app:appPartyType="ServicingChannel"/></app:appParties><app:parties><common:individual common:id="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyID="1007162" common:languageID="English" common:beginDate="2018-08-16T19:12:13.153" common:ssn="123456789" common:firstName="justin" common:lastName="Test" common:dob="1990-01-08" common:mothersMaidenName="Paper" common:isPermanentResidentFL="false" common:hasAlienRegNumFL="false" common:numOfDependants="0"><common:contactMechanisms><common:contactMechanism common:contactMechanismID="3149003" common:contactMechanismType="CurrentAddress" common:isPreferredContactMechanismFL="false"><common:addressRef common:isNew="false" common:idRef="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f"/><common:contactMechanismCategory common:isNew="false" common:CD="2"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3149004" common:contactMechanismType="MailingAddress" common:isPreferredContactMechanismFL="false"><common:addressRef common:isNew="false" common:idRef="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f"/><common:contactMechanismCategory common:isNew="false" common:CD="2"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3149005" common:contactMechanismType="HomePhone" common:contactString="2082393000" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false" common:CD="1"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3149006" common:contactMechanismType="EMail" common:contactString="dchristensen@iccu.com" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false"/></common:contactMechanism></common:contactMechanisms><common:partyRelationships><common:employment common:relationshipType="Employment"><common:partyRef common:isNew="true" common:idRef="51ec82f1-6c74-4066-ba1a-a7283ae6aad0" common:partyType="Employer"/><common:employmentSubRel common:isNew="false" common:isCurrentFL="true" common:title="Police Officer" common:monthsEmployed="28" common:employmentType="FullTime"><common:userEmploymentType common:isNew="false" common:CD="2"/></common:employmentSubRel></common:employment></common:partyRelationships><common:partyIdentifications><common:partyIdentification common:IDNum="MD564654A" common:issuanceEntity="ID" common:expirationDate="2020-01-07T23:00:00-06:00" common:partyIdentificationID="11499"><common:identificationCD common:isNew="false" common:lookupType="IdentificationType" common:CD="D" common:name="Drivers_License" common:isActive="true"/></common:partyIdentification></common:partyIdentifications><common:incomes><common:income common:incomeID="18753" common:IncomeTypeCD="Salary" common:frequency="Annually" common:amountPerPeriod="42000.0" common:incomeStatus="IncomeStatus_Included" common:incomeAdjustmentPercentage="1"><common:employerRef common:isNew="true" common:idRef="51ec82f1-6c74-4066-ba1a-a7283ae6aad0"/></common:income></common:incomes><common:trades><common:trade common:tradeID="127676" common:accountTypeCD="RealEstateMortgage" common:tradeTypeID="Mortgage" common:creditorName="default" common:debtStatusCD="Include" common:ecoaCD="Individual" common:monthlyPayment="900.0" common:isCurrResidenceRentMortgage="true" common:isSecured="true"><common:kindOfBusiness common:isNew="false" common:lookupType="KOB" common:CD="FM"/></common:trade></common:trades></common:individual><common:group common:id="9c3b9eee-6a42-497a-b294-bbda32cf2904" common:isNew="false" common:partyID="11878"><common:partyTypes><common:partyType>Team</common:partyType></common:partyTypes></common:group><common:user common:id="801f914d-b637-41b3-af83-d9be2f8bb793" common:isNew="false" common:partyID="990547" common:beginDate="2018-05-08T14:40:31.73" common:timeZoneCode="MST"><common:partyTypes><common:partyType>User</common:partyType><common:partyType>LoanOfficer</common:partyType></common:partyTypes></common:user><common:channel common:id="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:isNew="false" common:partyID="12009"/><common:channel common:id="5f798809-1215-40a7-bed6-52fc700c4bfc" common:isNew="false" common:partyID="12009"/><common:organization common:id="6b1fc6f4-5385-4669-8e8f-19041cc91924" common:isNew="false" common:partyID="4" common:name="Idaho Central CU" common:description="LoanCenter"><common:partyRelationships><common:partyRelationship common:relationshipType="OrganizationToCustomerDataOwnership"><common:partyRef common:isNew="false" common:idRef="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyType="Individual"/></common:partyRelationship></common:partyRelationships></common:organization><common:employer common:id="51ec82f1-6c74-4066-ba1a-a7283ae6aad0" common:partyID="1007163" common:languageID="English" common:beginDate="2018-08-16T19:12:13.17" common:name="Pocatello Police Department"><common:contactMechanisms><common:contactMechanism common:contactMechanismID="3149007" common:contactMechanismType="WorkPhone" common:contactString="4563156486" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false" common:CD="1"/></common:contactMechanism></common:contactMechanisms></common:employer></app:parties><app:appDetails><app:appDetailVehicle app:appDetailID="11267" app:appDetailSavePoint="Current" app:contractDate="2018-08-16T19:12:13.0835507" app:contractRate="0.180" app:financedAmt="32000" app:equityPercentage="0" app:termInMonths="48" app:daysPerYear="360" app:calculationType="Installment" app:loanType="Consumer" app:interestRateType="Fixed" app:rankNum="1" app:maxContractRate="0.180" app:minContractRate="0.000" app:requestType="Refinance" app:initialSalesPrice="32000" app:insuranceOptionID="1" app:varianceMode="false"><app:appDetailParties><app:appDetailParty common:idRef="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:partyType="Channel" app:appPartyType="SourceChannel"/><app:appDetailParty common:idRef="5f798809-1215-40a7-bed6-52fc700c4bfc" common:partyType="Channel" app:appPartyType="ServicingChannel"/><app:appDetailParty common:idRef="801f914d-b637-41b3-af83-d9be2f8bb793" common:partyType="User" app:appPartyType="LoanOfficer"/><app:appDetailParty common:idRef="9c3b9eee-6a42-497a-b294-bbda32cf2904" app:appPartyType="QueuedFromUser"/></app:appDetailParties><app:appDetailProperties><app:appDetailProperty common:idRef="5b13c9b8-ec7b-4709-857f-c3ae504e49af" common:propertyType="Auto" common:propertySubType="NoneSelected" app:isCollateralFL="true" app:statusID="Active" app:includeInLTVCalculations="true"/></app:appDetailProperties><app:appDetailRequestedAmts><app:appDetailRequestedAmt app:appDetailRequestedAmtID="81310" app:requestedAmount="5000" app:requestedAmountType="Generic"/></app:appDetailRequestedAmts><app:appDetailStatuses><app:appDetailStatus app:appDetailStatusID="31521" app:statusType="WorkflowStatus" app:status="WorkflowStatus_DataAcquisition"/></app:appDetailStatuses><app:product common:isNew="false" common:productID="139" common:beginDate="2016-05-16T00:00:00" common:shortName="Used Auto" common:name="Used Auto" common:isActiveFL="true" common:productTypeID="Vehicle" common:loanType="Consumer" common:liquidCreditProductCategoryCD="2200" common:orgID="4"><common:organizationRef common:isNew="false" common:idRef="bfb8fa87-e15e-422f-8d98-7d8d38ed6d53"/><common:productCategory common:isNew="false" common:productCategoryID="22" common:name="Direct Products" common:description="Direct Products" common:isActiveFL="true"><common:organizationRef common:isNew="false" common:idRef="bfb8fa87-e15e-422f-8d98-7d8d38ed6d53"/></common:productCategory><common:initialTeamRef common:isNew="false" common:idRef="a5aed797-f669-4105-b94a-22abbe33d27a"/><common:productFormPackage common:isNew="false" common:CD="4" common:name="Vehicle (Direct)" common:formPackageTypeID="1"/></app:product><app:appDetailStipulations><app:appDetailStipulation app:appDetailStipulationID="74234" app:status="Open" app:name="Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger."><app:stipulation common:isNew="false" common:stipulationID="16" common:name="Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger." common:sortOrder="0"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74235" app:status="Open" app:name="Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification."><app:stipulation common:isNew="false" common:stipulationID="17" common:name="Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification." common:sortOrder="1"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74236" app:status="Open" app:name="Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates."><app:stipulation common:isNew="false" common:stipulationID="18" common:name="Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates." common:sortOrder="2"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74237" app:status="Open" app:name="Valid drivers license Select satisfied if there is a valid DL imaged"><app:stipulation common:isNew="false" common:stipulationID="20" common:name="Valid drivers license Select satisfied if there is a valid DL imaged" common:sortOrder="4"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74238" app:status="Open" app:name="Title in hand imaged"><app:stipulation common:isNew="false" common:stipulationID="72" common:name="Title in hand imaged" common:sortOrder="3"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74239" app:status="Open" app:name="Verify Primary Borrower is Tax Owner on Share"><app:stipulation common:isNew="false" common:stipulationID="77" common:name="Verify Primary Borrower is Tax Owner on Share" common:sortOrder="5"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation></app:appDetailStipulations><app:riskProcessingLevel common:isNew="false" common:lookupType="RPL" common:CD="1"/><app:pricingPlan common:isNew="false" common:planID="1"/><app:appDetailIndirect common:isNew="false" app:payDealerNow="false" app:payOriginationFeeNow="false" app:calcOriginationFeeFL="false" app:useCRBRRuleFL="false" app:isOriginationFeeValuePct="false" app:calcDiscountFL="false" app:globalDiscountFL="true" app:federalDisclosureFL="false"/><app:loanPurposes><app:appDetailLoanPurpose app:rank="1"><app:loanPurpose common:isNew="false" common:CD="11"/></app:appDetailLoanPurpose></app:loanPurposes><app:appDetailProcessQuestionResponses><app:appDetailQuestionResponse app:appDetailQuestionResponseID="33173" app:processID="51" app:ordernum="0"><app:question common:isNew="false" common:questionID="86"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse><app:appDetailQuestionResponse app:processID="52" app:ordernum="0"><app:question common:isNew="false" common:questionID="78"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse><app:appDetailQuestionResponse app:processID="52" app:ordernum="1"><app:question common:isNew="false" common:questionID="80"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse><app:appDetailQuestionResponse app:processID="52" app:ordernum="2"><app:question common:isNew="false" common:questionID="79"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse></app:appDetailProcessQuestionResponses><app:vehicleValuations><app:appDetailVehicleValuation common:idRef="a9d74ac6-90c4-4669-b064-aeb45e2613ce" app:valueType="Retail"/></app:vehicleValuations></app:appDetailVehicle></app:appDetails><app:properties><common:propertyAuto common:id="5b13c9b8-ec7b-4709-857f-c3ae504e49af" common:propertyID="6584" common:propertySubType="Automobile" common:hasClearTitleFL="true" common:yearBuilt="2006" common:propertyType="Auto" common:propertyUsageTypeID="Personal"><common:propertyVehicleValuations><common:propertyVehicleValuation common:idRef="a9d74ac6-90c4-4669-b064-aeb45e2613ce" common:isActive="true"/></common:propertyVehicleValuations></common:propertyAuto></app:properties><app:addresses><common:address common:id="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f" common:addressID="1489586" common:street1="159 Blue St." common:street2="" common:postalCode="83202" common:cityName="Pocatello" common:monthsResided="24" common:state="ID" common:country="UnitedStates"><common:residenceType common:isNew="false" common:CD="N"/></common:address></app:addresses><app:scores/><app:org common:isNew="false" common:idRef="6b1fc6f4-5385-4669-8e8f-19041cc91924"/><app:appServiceRequests/><app:vehicleValuations><common:vehicleValuation common:id="a9d74ac6-90c4-4669-b064-aeb45e2613ce" common:valuationID="2664" common:valuationType="Automatic" common:make="" common:model="" common:year="2006" common:state="ID" common:mileage="500" common:newUsed="Used" common:vin="" common:estimatedValue="32000" common:postalCode="83202"/></app:vehicleValuations><app:deliverySource common:isNew="false" common:CD="600001"/><app:serviceRequestGroups/></app:application></msg:applications></msg:appImportResponse></createApp></actionAPI></body></SubmitExResult></SubmitExResponse></s:Body></s:Envelope>',
            // ATV
            '<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"><s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><SubmitExResponse xmlns="http://tempuri.org/"><SubmitExResult><routing xmlns="BizTalkMessage"><org orgID="4" orgCode="ICCU"/><action transactionType="API"/><user userName="ICCUImportUser"/><interface interfaceID="600001"/><system/><approResult><result>Success</result></approResult></routing><body xmlns="BizTalkMessage"><actionAPI version="1" xmlns=""><createApp><msg:appImportResponse msg:approVersion="4.1" xmlns:msg="Messages" xmlns:app="App" xmlns:maint="Maint" xmlns:util="Util" xmlns:common="Common"><msg:approResult><common:result>Success</common:result></msg:approResult><msg:appIDs><msg:appID>30007371</msg:appID></msg:appIDs><msg:applications><app:files/><app:application app:applicationID="30007369" app:appNum="30007369" app:appReceivedDate="2017-09-27T04:00:00Z" app:appInitiatedDate="2018-08-16T19:11:50.8647514Z" app:priorityCD="High" app:deliveryMethodCD="Internet" app:applicantStructureTypeCD="NoneSelected"><app:appParties><app:primaryBorrower common:idRef="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyType="Individual"><app:appPartyResources><app:appPartyResource app:resourceID="98"/></app:appPartyResources></app:primaryBorrower><app:sourceChannel common:idRef="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:partyType="Channel" app:appPartyType="SourceChannel"/><app:servicingChannel common:idRef="5f798809-1215-40a7-bed6-52fc700c4bfc" common:partyType="Channel" app:appPartyType="ServicingChannel"/></app:appParties><app:parties><common:individual common:id="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyID="1007160" common:languageID="English" common:beginDate="2018-08-16T19:11:50.92" common:ssn="123456789" common:firstName="justin" common:lastName="Test" common:dob="1990-01-08" common:mothersMaidenName="Paper" common:isPermanentResidentFL="false" common:hasAlienRegNumFL="false" common:numOfDependants="0"><common:contactMechanisms><common:contactMechanism common:contactMechanismID="3148998" common:contactMechanismType="CurrentAddress" common:isPreferredContactMechanismFL="false"><common:addressRef common:isNew="false" common:idRef="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f"/><common:contactMechanismCategory common:isNew="false" common:CD="2"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3148999" common:contactMechanismType="MailingAddress" common:isPreferredContactMechanismFL="false"><common:addressRef common:isNew="false" common:idRef="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f"/><common:contactMechanismCategory common:isNew="false" common:CD="2"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3149000" common:contactMechanismType="HomePhone" common:contactString="2082393000" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false" common:CD="1"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3149001" common:contactMechanismType="EMail" common:contactString="dchristensen@iccu.com" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false"/></common:contactMechanism></common:contactMechanisms><common:partyRelationships><common:employment common:relationshipType="Employment"><common:partyRef common:isNew="true" common:idRef="51ec82f1-6c74-4066-ba1a-a7283ae6aad0" common:partyType="Employer"/><common:employmentSubRel common:isNew="false" common:isCurrentFL="true" common:title="Police Officer" common:monthsEmployed="28" common:employmentType="FullTime"><common:userEmploymentType common:isNew="false" common:CD="2"/></common:employmentSubRel></common:employment></common:partyRelationships><common:partyIdentifications><common:partyIdentification common:IDNum="MD564654A" common:issuanceEntity="ID" common:expirationDate="2020-01-07T23:00:00-06:00" common:partyIdentificationID="11498"><common:identificationCD common:isNew="false" common:lookupType="IdentificationType" common:CD="D" common:name="Drivers_License" common:isActive="true"/></common:partyIdentification></common:partyIdentifications><common:incomes><common:income common:incomeID="18752" common:IncomeTypeCD="Salary" common:frequency="Annually" common:amountPerPeriod="42000.0" common:incomeStatus="IncomeStatus_Included" common:incomeAdjustmentPercentage="1"><common:employerRef common:isNew="true" common:idRef="51ec82f1-6c74-4066-ba1a-a7283ae6aad0"/></common:income></common:incomes><common:trades><common:trade common:tradeID="127675" common:accountTypeCD="RealEstateMortgage" common:tradeTypeID="Mortgage" common:creditorName="default" common:debtStatusCD="Include" common:ecoaCD="Individual" common:monthlyPayment="900.0" common:isCurrResidenceRentMortgage="true" common:isSecured="true"><common:kindOfBusiness common:isNew="false" common:lookupType="KOB" common:CD="FM"/></common:trade></common:trades></common:individual><common:channel common:id="5f798809-1215-40a7-bed6-52fc700c4bfc" common:isNew="false" common:partyID="12009"/><common:group common:id="4b13a7e8-dd47-4367-abea-0659cb58094e" common:isNew="false" common:partyID="11878"><common:partyTypes><common:partyType>Team</common:partyType></common:partyTypes></common:group><common:user common:id="801f914d-b637-41b3-af83-d9be2f8bb793" common:isNew="false" common:partyID="990547" common:beginDate="2018-05-08T14:40:31.73" common:timeZoneCode="MST"><common:partyTypes><common:partyType>User</common:partyType><common:partyType>LoanOfficer</common:partyType></common:partyTypes></common:user><common:channel common:id="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:isNew="false" common:partyID="12009"/><common:organization common:id="6b1fc6f4-5385-4669-8e8f-19041cc91924" common:isNew="false" common:partyID="4" common:name="Idaho Central CU" common:description="LoanCenter"><common:partyRelationships><common:partyRelationship common:relationshipType="OrganizationToCustomerDataOwnership"><common:partyRef common:isNew="false" common:idRef="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyType="Individual"/></common:partyRelationship></common:partyRelationships></common:organization><common:employer common:id="51ec82f1-6c74-4066-ba1a-a7283ae6aad0" common:partyID="1007161" common:languageID="English" common:beginDate="2018-08-16T19:11:50.937" common:name="Pocatello Police Department"><common:contactMechanisms><common:contactMechanism common:contactMechanismID="3149002" common:contactMechanismType="WorkPhone" common:contactString="4563156486" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false" common:CD="1"/></common:contactMechanism></common:contactMechanisms></common:employer></app:parties><app:appDetails><app:appDetailVehicle app:appDetailID="11266" app:appDetailSavePoint="Current" app:contractDate="2018-08-16T19:11:50.8491312" app:contractRate="0.000" app:financedAmt="32000" app:equityPercentage="0" app:termInMonths="48" app:daysPerYear="360" app:calculationType="Installment" app:loanType="Consumer" app:interestRateType="Fixed" app:rankNum="1" app:maxContractRate="0.180" app:minContractRate="0.040" app:initialSalesPrice="32000" app:insuranceOptionID="1" app:varianceMode="false"><app:appDetailParties><app:appDetailParty common:idRef="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:partyType="Channel" app:appPartyType="SourceChannel"/><app:appDetailParty common:idRef="5f798809-1215-40a7-bed6-52fc700c4bfc" common:partyType="Channel" app:appPartyType="ServicingChannel"/><app:appDetailParty common:idRef="801f914d-b637-41b3-af83-d9be2f8bb793" common:partyType="User" app:appPartyType="LoanOfficer"/><app:appDetailParty common:idRef="4b13a7e8-dd47-4367-abea-0659cb58094e" app:appPartyType="QueuedFromUser"/></app:appDetailParties><app:appDetailProperties><app:appDetailProperty common:idRef="5b13c9b8-ec7b-4709-857f-c3ae504e49af" common:propertyType="Auto" common:propertySubType="NoneSelected" app:isCollateralFL="true" app:statusID="Active" app:includeInLTVCalculations="true"/></app:appDetailProperties><app:appDetailRequestedAmts><app:appDetailRequestedAmt app:appDetailRequestedAmtID="81309" app:requestedAmount="5000" app:requestedAmountType="Generic"/></app:appDetailRequestedAmts><app:appDetailStatuses><app:appDetailStatus app:appDetailStatusID="31520" app:statusType="WorkflowStatus" app:status="WorkflowStatus_DataAcquisition"/></app:appDetailStatuses><app:product common:isNew="false" common:productID="110" common:beginDate="2014-12-10T00:00:00" common:shortName="Small RV" common:name="Small RV" common:isActiveFL="true" common:productTypeID="RV" common:loanType="Consumer" common:liquidCreditProductCategoryCD="2200" common:orgID="4"><common:organizationRef common:isNew="false" common:idRef="9bdfbbfd-f30e-4c19-9464-c76e019a8bef"/><common:productCategory common:isNew="false" common:productCategoryID="22" common:name="Direct Products" common:description="Direct Products" common:isActiveFL="true"><common:organizationRef common:isNew="false" common:idRef="9bdfbbfd-f30e-4c19-9464-c76e019a8bef"/></common:productCategory><common:initialTeamRef common:isNew="false" common:idRef="f97ffc08-9568-4cfc-a2ef-c7a9ee3472df"/><common:productFormPackage common:isNew="false" common:CD="4" common:name="Vehicle (Direct)" common:formPackageTypeID="1"/></app:product><app:appDetailStipulations><app:appDetailStipulation app:appDetailStipulationID="74228" app:status="Open" app:name="Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger."><app:stipulation common:isNew="false" common:stipulationID="16" common:name="Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger." common:sortOrder="0"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74229" app:status="Open" app:name="Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification."><app:stipulation common:isNew="false" common:stipulationID="17" common:name="Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification." common:sortOrder="1"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74230" app:status="Open" app:name="Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates."><app:stipulation common:isNew="false" common:stipulationID="18" common:name="Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates." common:sortOrder="2"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74231" app:status="Open" app:name="Valid drivers license Select satisfied if there is a valid DL imaged"><app:stipulation common:isNew="false" common:stipulationID="20" common:name="Valid drivers license Select satisfied if there is a valid DL imaged" common:sortOrder="4"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74232" app:status="Open" app:name="Title in hand imaged"><app:stipulation common:isNew="false" common:stipulationID="72" common:name="Title in hand imaged" common:sortOrder="3"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74233" app:status="Open" app:name="Verify Primary Borrower is Tax Owner on Share"><app:stipulation common:isNew="false" common:stipulationID="77" common:name="Verify Primary Borrower is Tax Owner on Share" common:sortOrder="5"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation></app:appDetailStipulations><app:riskProcessingLevel common:isNew="false" common:lookupType="RPL" common:CD="1"/><app:pricingPlan common:isNew="false" common:planID="16"/><app:appDetailIndirect common:isNew="false" app:payDealerNow="false" app:payOriginationFeeNow="false" app:calcOriginationFeeFL="false" app:useCRBRRuleFL="false" app:isOriginationFeeValuePct="false" app:calcDiscountFL="false" app:globalDiscountFL="true" app:federalDisclosureFL="false"/><app:loanPurposes><app:appDetailLoanPurpose app:rank="1"><app:loanPurpose common:isNew="false" common:CD="10"/></app:appDetailLoanPurpose></app:loanPurposes><app:appDetailProcessQuestionResponses><app:appDetailQuestionResponse app:appDetailQuestionResponseID="33169" app:processID="51" app:ordernum="0"><app:question common:isNew="false" common:questionID="86"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse><app:appDetailQuestionResponse app:processID="52" app:ordernum="0"><app:question common:isNew="false" common:questionID="78"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse><app:appDetailQuestionResponse app:processID="52" app:ordernum="1"><app:question common:isNew="false" common:questionID="80"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse><app:appDetailQuestionResponse app:processID="52" app:ordernum="2"><app:question common:isNew="false" common:questionID="79"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse></app:appDetailProcessQuestionResponses><app:vehicleValuations><app:appDetailVehicleValuation common:idRef="a9d74ac6-90c4-4669-b064-aeb45e2613ce" app:valueType="Retail"/></app:vehicleValuations></app:appDetailVehicle></app:appDetails><app:properties><common:propertyAuto common:id="5b13c9b8-ec7b-4709-857f-c3ae504e49af" common:propertyID="6583" common:propertySubType="ATV" common:hasClearTitleFL="true" common:yearBuilt="2006" common:totalValue="5999.00" common:propertyType="ATV" common:propertyUsageTypeID="Personal"><common:propertyVehicleValuations><common:propertyVehicleValuation common:idRef="a9d74ac6-90c4-4669-b064-aeb45e2613ce" common:isActive="true"/></common:propertyVehicleValuations><common:trailer common:propertySubType="SingleAxel"/></common:propertyAuto></app:properties><app:addresses><common:address common:id="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f" common:addressID="1489585" common:street1="159 Blue St." common:street2="" common:postalCode="83202" common:cityName="Pocatello" common:monthsResided="24" common:state="ID" common:country="UnitedStates"><common:residenceType common:isNew="false" common:CD="N"/></common:address></app:addresses><app:scores/><app:org common:isNew="false" common:idRef="6b1fc6f4-5385-4669-8e8f-19041cc91924"/><app:appServiceRequests/><app:vehicleValuations><common:vehicleValuation common:id="a9d74ac6-90c4-4669-b064-aeb45e2613ce" common:valuationID="2663" common:valuationType="Automatic" common:make="" common:model="" common:year="2001" common:state="ID" common:mileage="90000" common:newUsed="New" common:vin="" common:estimatedValue="15000" common:postalCode="83202"/></app:vehicleValuations><app:deliverySource common:isNew="false" common:CD="600001"/><app:serviceRequestGroups/></app:application></msg:applications></msg:appImportResponse></createApp></actionAPI></body></SubmitExResult></SubmitExResponse></s:Body></s:Envelope>',
            // PLOC
            '<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"><s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><SubmitExResponse xmlns="http://tempuri.org/"><SubmitExResult><routing xmlns="BizTalkMessage"><org orgID="4" orgCode="ICCU"/><action transactionType="API"/><user userName="ICCUImportUser"/><interface interfaceID="600001"/><system/><approResult><result>Success</result></approResult></routing><body xmlns="BizTalkMessage"><actionAPI version="1" xmlns=""><createApp><msg:appImportResponse msg:approVersion="4.1" xmlns:msg="Messages" xmlns:app="App" xmlns:maint="Maint" xmlns:util="Util" xmlns:common="Common"><msg:approResult><common:result>Success</common:result></msg:approResult><msg:appIDs><msg:appID>30007371</msg:appID></msg:appIDs><msg:applications><app:files/><app:application app:applicationID="30007371" app:appNum="30007371" app:appReceivedDate="2017-09-27T04:00:00Z" app:appInitiatedDate="2018-08-16T19:11:30.3490798Z" app:priorityCD="High" app:deliveryMethodCD="Internet" app:applicantStructureTypeCD="NoneSelected"><app:appParties><app:primaryBorrower common:idRef="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyType="Individual"><app:appPartyResources><app:appPartyResource app:resourceID="98"/></app:appPartyResources></app:primaryBorrower><app:sourceChannel common:idRef="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:partyType="Channel" app:appPartyType="SourceChannel"/><app:servicingChannel common:idRef="5f798809-1215-40a7-bed6-52fc700c4bfc" common:partyType="Channel" app:appPartyType="ServicingChannel"/></app:appParties><app:parties><common:individual common:id="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyID="1007158" common:languageID="English" common:beginDate="2018-08-16T19:11:30.56" common:ssn="123456789" common:firstName="justin" common:lastName="Test" common:dob="1990-01-08" common:mothersMaidenName="Paper" common:isPermanentResidentFL="false" common:hasAlienRegNumFL="false" common:numOfDependants="0"><common:contactMechanisms><common:contactMechanism common:contactMechanismID="3148993" common:contactMechanismType="CurrentAddress" common:isPreferredContactMechanismFL="false"><common:addressRef common:isNew="false" common:idRef="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f"/><common:contactMechanismCategory common:isNew="false" common:CD="2"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3148994" common:contactMechanismType="MailingAddress" common:isPreferredContactMechanismFL="false"><common:addressRef common:isNew="false" common:idRef="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f"/><common:contactMechanismCategory common:isNew="false" common:CD="2"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3148995" common:contactMechanismType="HomePhone" common:contactString="2082393000" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false" common:CD="1"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3148996" common:contactMechanismType="EMail" common:contactString="dchristensen@iccu.com" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false"/></common:contactMechanism></common:contactMechanisms><common:partyRelationships><common:employment common:relationshipType="Employment"><common:partyRef common:isNew="true" common:idRef="51ec82f1-6c74-4066-ba1a-a7283ae6aad0" common:partyType="Employer"/><common:employmentSubRel common:isNew="false" common:isCurrentFL="true" common:title="Police Officer" common:monthsEmployed="28" common:employmentType="FullTime"><common:userEmploymentType common:isNew="false" common:CD="2"/></common:employmentSubRel></common:employment></common:partyRelationships><common:partyIdentifications><common:partyIdentification common:IDNum="MD564654A" common:issuanceEntity="ID" common:expirationDate="2020-01-07T23:00:00-06:00" common:partyIdentificationID="11497"><common:identificationCD common:isNew="false" common:lookupType="IdentificationType" common:CD="D" common:name="Drivers_License" common:isActive="true"/></common:partyIdentification></common:partyIdentifications><common:incomes><common:income common:incomeID="18751" common:IncomeTypeCD="Salary" common:frequency="Annually" common:amountPerPeriod="42000.0" common:incomeStatus="IncomeStatus_Included" common:incomeAdjustmentPercentage="1"><common:employerRef common:isNew="true" common:idRef="51ec82f1-6c74-4066-ba1a-a7283ae6aad0"/></common:income></common:incomes><common:trades><common:trade common:tradeID="127674" common:accountTypeCD="RealEstateMortgage" common:tradeTypeID="Mortgage" common:creditorName="default" common:debtStatusCD="Include" common:ecoaCD="Individual" common:monthlyPayment="900.0" common:isCurrResidenceRentMortgage="true" common:isSecured="true"><common:kindOfBusiness common:isNew="false" common:lookupType="KOB" common:CD="FM"/></common:trade></common:trades></common:individual><common:channel common:id="5f798809-1215-40a7-bed6-52fc700c4bfc" common:isNew="false" common:partyID="12009"/><common:user common:id="801f914d-b637-41b3-af83-d9be2f8bb793" common:isNew="false" common:partyID="990547" common:beginDate="2018-05-08T14:40:31.73"><common:partyTypes><common:partyType>User</common:partyType><common:partyType>LoanOfficer</common:partyType></common:partyTypes></common:user><common:channel common:id="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:isNew="false" common:partyID="12009"/><common:organization common:id="6b1fc6f4-5385-4669-8e8f-19041cc91924" common:isNew="false" common:partyID="4" common:name="Idaho Central CU" common:description="LoanCenter"><common:partyRelationships><common:partyRelationship common:relationshipType="OrganizationToCustomerDataOwnership"><common:partyRef common:isNew="false" common:idRef="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyType="Individual"/></common:partyRelationship></common:partyRelationships></common:organization><common:employer common:id="51ec82f1-6c74-4066-ba1a-a7283ae6aad0" common:partyID="1007159" common:languageID="English" common:beginDate="2018-08-16T19:11:30.577" common:name="Pocatello Police Department"><common:contactMechanisms><common:contactMechanism common:contactMechanismID="3148997" common:contactMechanismType="WorkPhone" common:contactString="4563156486" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false" common:CD="1"/></common:contactMechanism></common:contactMechanisms></common:employer><common:group common:id="eb2b8391-09e6-4986-ab04-b8d31c4cc2ec" common:isNew="false" common:partyID="11878"><common:partyTypes><common:partyType>Team</common:partyType></common:partyTypes></common:group></app:parties><app:appDetails><app:appDetailLOC app:appDetailID="11265" app:appDetailSavePoint="Current" app:contractDate="2018-08-16T19:11:30.3490798" app:contractRate="0.000" app:financedAmt="1500" app:equityPercentage="0" app:termInMonths="0" app:daysPerYear="360" app:loanType="Consumer" app:interestRateType="Fixed" app:rankNum="1" app:maxContractRate="0.180" app:minContractRate="0.180" app:baseRate="0.18000000" app:insuranceOptionID="1" app:paymentCalculationType="PctOfAmountRequested" app:requestedAmtPaymentPct="0.020"><app:appDetailParties><app:appDetailParty common:idRef="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:partyType="Channel" app:appPartyType="SourceChannel"/><app:appDetailParty common:idRef="5f798809-1215-40a7-bed6-52fc700c4bfc" common:partyType="Channel" app:appPartyType="ServicingChannel"/><app:appDetailParty common:idRef="801f914d-b637-41b3-af83-d9be2f8bb793" common:partyType="User" app:appPartyType="LoanOfficer"/><app:appDetailParty common:idRef="eb2b8391-09e6-4986-ab04-b8d31c4cc2ec" app:appPartyType="QueuedFromUser"/></app:appDetailParties><app:appDetailRequestedAmts><app:appDetailRequestedAmt app:appDetailRequestedAmtID="81308" app:requestedAmount="5000" app:requestedAmountType="Generic"/></app:appDetailRequestedAmts><app:appDetailStatuses><app:appDetailStatus app:appDetailStatusID="31519" app:statusType="WorkflowStatus" app:status="WorkflowStatus_DataAcquisition"/></app:appDetailStatuses><app:product common:isNew="false" common:productID="117" common:beginDate="2014-12-10T00:00:00" common:shortName="PLOC" common:name="Personal Line of Credit" common:isActiveFL="true" common:productTypeID="LOC" common:loanType="Consumer" common:liquidCreditProductCategoryCD="2100" common:orgID="4"><common:organizationRef common:isNew="false" common:idRef="92531423-2750-4425-8657-bec5c984e3fc"/><common:productCategory common:isNew="false" common:productCategoryID="22" common:name="Direct Products" common:description="Direct Products" common:isActiveFL="true"><common:organizationRef common:isNew="false" common:idRef="92531423-2750-4425-8657-bec5c984e3fc"/></common:productCategory><common:initialTeamRef common:isNew="false" common:idRef="c5b85106-e8ef-4bc6-a186-497a7b1305e5"/><common:productFormPackage common:isNew="false" common:CD="2" common:name="LOC / HELOC" common:formPackageTypeID="1"/></app:product><app:appDetailStipulations><app:appDetailStipulation app:appDetailStipulationID="74224" app:status="Open" app:name="Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger."><app:stipulation common:isNew="false" common:stipulationID="16" common:name="Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger." common:sortOrder="0"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74225" app:status="Open" app:name="Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification."><app:stipulation common:isNew="false" common:stipulationID="17" common:name="Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification." common:sortOrder="1"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74226" app:status="Open" app:name="Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates."><app:stipulation common:isNew="false" common:stipulationID="18" common:name="Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates." common:sortOrder="2"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74227" app:status="Open" app:name="Verify Primary Borrower is Tax Owner on Share"><app:stipulation common:isNew="false" common:stipulationID="77" common:name="Verify Primary Borrower is Tax Owner on Share" common:sortOrder="3"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation></app:appDetailStipulations><app:riskProcessingLevel common:isNew="false" common:lookupType="RPL" common:CD="1"/><app:pricingPlan common:isNew="false" common:planID="14"/><app:appDetailIndirect common:isNew="false" app:payDealerNow="false" app:payOriginationFeeNow="false" app:calcOriginationFeeFL="false" app:useCRBRRuleFL="false" app:isOriginationFeeValuePct="false" app:calcDiscountFL="false" app:globalDiscountFL="true" app:federalDisclosureFL="false"/><app:loanPurposes><app:appDetailLoanPurpose app:rank="1"><app:loanPurpose common:isNew="false" common:CD="137"/></app:appDetailLoanPurpose></app:loanPurposes><app:contractRateIndex common:isNew="true" common:rateIndexID="4"/><app:appDetailProcessQuestionResponses><app:appDetailQuestionResponse app:appDetailQuestionResponseID="33168" app:processID="51" app:ordernum="0"><app:question common:isNew="false" common:questionID="86"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse></app:appDetailProcessQuestionResponses></app:appDetailLOC></app:appDetails><app:properties/><app:addresses><common:address common:id="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f" common:addressID="1489584" common:street1="147 Sharp" common:street2="" common:postalCode="83704" common:cityName="Boise" common:monthsResided="108" common:state="ID" common:country="UnitedStates"><common:residenceType common:isNew="false" common:CD="R"/></common:address></app:addresses><app:scores/><app:org common:isNew="false" common:idRef="6b1fc6f4-5385-4669-8e8f-19041cc91924"/><app:appServiceRequests/><app:vehicleValuations/><app:deliverySource common:isNew="false" common:CD="600001"/><app:serviceRequestGroups/></app:application></msg:applications></msg:appImportResponse></createApp></actionAPI></body></SubmitExResult></SubmitExResponse></s:Body></s:Envelope>',
            // Motorcycle
            '<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"><s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><SubmitExResponse xmlns="http://tempuri.org/"><SubmitExResult><routing xmlns="BizTalkMessage"><org orgID="4" orgCode="ICCU"/><action transactionType="API"/><user userName="ICCUImportUser"/><interface interfaceID="600001"/><system/><approResult><result>Success</result></approResult></routing><body xmlns="BizTalkMessage"><actionAPI version="1" xmlns=""><createApp><msg:appImportResponse msg:approVersion="4.1" xmlns:msg="Messages" xmlns:app="App" xmlns:maint="Maint" xmlns:util="Util" xmlns:common="Common"><msg:approResult><common:result>Success</common:result></msg:approResult><msg:appIDs><msg:appID>30007371</msg:appID></msg:appIDs><msg:applications><app:files/><app:application app:applicationID="30007367" app:appNum="30007367" app:appReceivedDate="2017-09-27T04:00:00Z" app:appInitiatedDate="2018-08-16T19:11:08.2084449Z" app:priorityCD="High" app:deliveryMethodCD="Internet" app:applicantStructureTypeCD="NoneSelected"><app:appParties><app:primaryBorrower common:idRef="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyType="Individual"><app:appPartyResources><app:appPartyResource app:resourceID="98"/></app:appPartyResources></app:primaryBorrower><app:sourceChannel common:idRef="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:partyType="Channel" app:appPartyType="SourceChannel"/><app:servicingChannel common:idRef="5f798809-1215-40a7-bed6-52fc700c4bfc" common:partyType="Channel" app:appPartyType="ServicingChannel"/></app:appParties><app:parties><common:individual common:id="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyID="1007156" common:languageID="English" common:beginDate="2018-08-16T19:11:08.263" common:ssn="123456789" common:firstName="justin" common:lastName="Test" common:dob="1990-01-08" common:mothersMaidenName="Paper" common:isPermanentResidentFL="false" common:hasAlienRegNumFL="false" common:numOfDependants="0"><common:contactMechanisms><common:contactMechanism common:contactMechanismID="3148988" common:contactMechanismType="CurrentAddress" common:isPreferredContactMechanismFL="false"><common:addressRef common:isNew="false" common:idRef="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f"/><common:contactMechanismCategory common:isNew="false" common:CD="2"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3148989" common:contactMechanismType="MailingAddress" common:isPreferredContactMechanismFL="false"><common:addressRef common:isNew="false" common:idRef="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f"/><common:contactMechanismCategory common:isNew="false" common:CD="2"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3148990" common:contactMechanismType="HomePhone" common:contactString="2082393000" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false" common:CD="1"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3148991" common:contactMechanismType="EMail" common:contactString="dchristensen@iccu.com" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false"/></common:contactMechanism></common:contactMechanisms><common:partyRelationships><common:employment common:relationshipType="Employment"><common:partyRef common:isNew="true" common:idRef="51ec82f1-6c74-4066-ba1a-a7283ae6aad0" common:partyType="Employer"/><common:employmentSubRel common:isNew="false" common:isCurrentFL="true" common:title="Police Officer" common:monthsEmployed="28" common:employmentType="FullTime"><common:userEmploymentType common:isNew="false" common:CD="2"/></common:employmentSubRel></common:employment></common:partyRelationships><common:partyIdentifications><common:partyIdentification common:IDNum="MD564654A" common:issuanceEntity="ID" common:expirationDate="2020-01-07T23:00:00-06:00" common:partyIdentificationID="11496"><common:identificationCD common:isNew="false" common:lookupType="IdentificationType" common:CD="D" common:name="Drivers_License" common:isActive="true"/></common:partyIdentification></common:partyIdentifications><common:incomes><common:income common:incomeID="18750" common:IncomeTypeCD="Salary" common:frequency="Annually" common:amountPerPeriod="42000.0" common:incomeStatus="IncomeStatus_Included" common:incomeAdjustmentPercentage="1"><common:employerRef common:isNew="true" common:idRef="51ec82f1-6c74-4066-ba1a-a7283ae6aad0"/></common:income></common:incomes><common:trades><common:trade common:tradeID="127673" common:accountTypeCD="RealEstateMortgage" common:tradeTypeID="Mortgage" common:creditorName="default" common:debtStatusCD="Include" common:ecoaCD="Individual" common:monthlyPayment="900.0" common:isCurrResidenceRentMortgage="true" common:isSecured="true"><common:kindOfBusiness common:isNew="false" common:lookupType="KOB" common:CD="FM"/></common:trade></common:trades></common:individual><common:channel common:id="5f798809-1215-40a7-bed6-52fc700c4bfc" common:isNew="false" common:partyID="12009"/><common:user common:id="801f914d-b637-41b3-af83-d9be2f8bb793" common:isNew="false" common:partyID="990547" common:beginDate="2018-05-08T14:40:31.73" common:timeZoneCode="MST"><common:partyTypes><common:partyType>User</common:partyType><common:partyType>LoanOfficer</common:partyType></common:partyTypes></common:user><common:channel common:id="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:isNew="false" common:partyID="12009"/><common:organization common:id="6b1fc6f4-5385-4669-8e8f-19041cc91924" common:isNew="false" common:partyID="4" common:name="Idaho Central CU" common:description="LoanCenter"><common:partyRelationships><common:partyRelationship common:relationshipType="OrganizationToCustomerDataOwnership"><common:partyRef common:isNew="false" common:idRef="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyType="Individual"/></common:partyRelationship></common:partyRelationships></common:organization><common:group common:id="ccf70601-fd21-407d-b4c4-1ac7a32f055d" common:isNew="false" common:partyID="11878"><common:partyTypes><common:partyType>Team</common:partyType></common:partyTypes></common:group><common:employer common:id="51ec82f1-6c74-4066-ba1a-a7283ae6aad0" common:partyID="1007157" common:languageID="English" common:beginDate="2018-08-16T19:11:08.28" common:name="Pocatello Police Department"><common:contactMechanisms><common:contactMechanism common:contactMechanismID="3148992" common:contactMechanismType="WorkPhone" common:contactString="4563156486" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false" common:CD="1"/></common:contactMechanism></common:contactMechanisms></common:employer></app:parties><app:appDetails><app:appDetailVehicle app:appDetailID="11264" app:appDetailSavePoint="Current" app:contractDate="2018-08-16T19:11:08.1927842" app:contractRate="0.000" app:financedAmt="32000" app:equityPercentage="0" app:termInMonths="48" app:daysPerYear="360" app:calculationType="Installment" app:loanType="Consumer" app:interestRateType="Fixed" app:rankNum="1" app:maxContractRate="0.180" app:minContractRate="0.030" app:initialSalesPrice="32000" app:insuranceOptionID="1" app:varianceMode="false"><app:appDetailParties><app:appDetailParty common:idRef="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:partyType="Channel" app:appPartyType="SourceChannel"/><app:appDetailParty common:idRef="5f798809-1215-40a7-bed6-52fc700c4bfc" common:partyType="Channel" app:appPartyType="ServicingChannel"/><app:appDetailParty common:idRef="801f914d-b637-41b3-af83-d9be2f8bb793" common:partyType="User" app:appPartyType="LoanOfficer"/><app:appDetailParty common:idRef="ccf70601-fd21-407d-b4c4-1ac7a32f055d" app:appPartyType="QueuedFromUser"/></app:appDetailParties><app:appDetailProperties><app:appDetailProperty common:idRef="5b13c9b8-ec7b-4709-857f-c3ae504e49af" common:propertyType="Motorcycle" common:propertySubType="NoneSelected" app:isCollateralFL="true" app:statusID="Active" app:includeInLTVCalculations="true"/></app:appDetailProperties><app:appDetailRequestedAmts><app:appDetailRequestedAmt app:appDetailRequestedAmtID="81307" app:requestedAmount="5000" app:requestedAmountType="Generic"/></app:appDetailRequestedAmts><app:appDetailStatuses><app:appDetailStatus app:appDetailStatusID="31518" app:statusType="WorkflowStatus" app:status="WorkflowStatus_DataAcquisition"/></app:appDetailStatuses><app:product common:isNew="false" common:productID="113" common:beginDate="2014-12-10T00:00:00" common:shortName="Motorcycle" common:name="Motorcycle" common:isActiveFL="true" common:productTypeID="Vehicle" common:loanType="Consumer" common:liquidCreditProductCategoryCD="2200" common:orgID="4"><common:organizationRef common:isNew="false" common:idRef="8e6ab7ec-af6e-483f-90f0-dba7701301a8"/><common:productCategory common:isNew="false" common:productCategoryID="22" common:name="Direct Products" common:description="Direct Products" common:isActiveFL="true"><common:organizationRef common:isNew="false" common:idRef="8e6ab7ec-af6e-483f-90f0-dba7701301a8"/></common:productCategory><common:initialTeamRef common:isNew="false" common:idRef="872160d4-4278-4587-9b25-ce37015711cf"/><common:productFormPackage common:isNew="false" common:CD="4" common:name="Vehicle (Direct)" common:formPackageTypeID="1"/></app:product><app:appDetailStipulations><app:appDetailStipulation app:appDetailStipulationID="74218" app:status="Open" app:name="Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger."><app:stipulation common:isNew="false" common:stipulationID="16" common:name="Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger." common:sortOrder="0"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74219" app:status="Open" app:name="Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification."><app:stipulation common:isNew="false" common:stipulationID="17" common:name="Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification." common:sortOrder="1"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74220" app:status="Open" app:name="Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates."><app:stipulation common:isNew="false" common:stipulationID="18" common:name="Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates." common:sortOrder="2"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74221" app:status="Open" app:name="Valid drivers license Select satisfied if there is a valid DL imaged"><app:stipulation common:isNew="false" common:stipulationID="20" common:name="Valid drivers license Select satisfied if there is a valid DL imaged" common:sortOrder="4"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74222" app:status="Open" app:name="Title in hand imaged"><app:stipulation common:isNew="false" common:stipulationID="72" common:name="Title in hand imaged" common:sortOrder="3"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74223" app:status="Open" app:name="Verify Primary Borrower is Tax Owner on Share"><app:stipulation common:isNew="false" common:stipulationID="77" common:name="Verify Primary Borrower is Tax Owner on Share" common:sortOrder="5"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation></app:appDetailStipulations><app:riskProcessingLevel common:isNew="false" common:lookupType="RPL" common:CD="1"/><app:pricingPlan common:isNew="false" common:planID="12"/><app:appDetailIndirect common:isNew="false" app:payDealerNow="false" app:payOriginationFeeNow="false" app:calcOriginationFeeFL="false" app:useCRBRRuleFL="false" app:isOriginationFeeValuePct="false" app:calcDiscountFL="false" app:globalDiscountFL="true" app:federalDisclosureFL="false"/><app:loanPurposes><app:appDetailLoanPurpose app:rank="1"><app:loanPurpose common:isNew="false" common:CD="140"/></app:appDetailLoanPurpose></app:loanPurposes><app:appDetailProcessQuestionResponses><app:appDetailQuestionResponse app:appDetailQuestionResponseID="33164" app:processID="51" app:ordernum="0"><app:question common:isNew="false" common:questionID="86"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse><app:appDetailQuestionResponse app:processID="52" app:ordernum="0"><app:question common:isNew="false" common:questionID="78"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse><app:appDetailQuestionResponse app:processID="52" app:ordernum="1"><app:question common:isNew="false" common:questionID="80"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse><app:appDetailQuestionResponse app:processID="52" app:ordernum="2"><app:question common:isNew="false" common:questionID="79"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse></app:appDetailProcessQuestionResponses><app:vehicleValuations><app:appDetailVehicleValuation common:idRef="a9d74ac6-90c4-4669-b064-aeb45e2613ce" app:valueType="Retail"/></app:vehicleValuations></app:appDetailVehicle></app:appDetails><app:properties><common:propertyAuto common:id="5b13c9b8-ec7b-4709-857f-c3ae504e49af" common:propertyID="6582" common:hasClearTitleFL="true" common:yearBuilt="2006" common:totalValue="5999.00" common:propertyType="Motorcycle" common:propertyUsageTypeID="Personal"><common:propertyVehicleValuations><common:propertyVehicleValuation common:idRef="a9d74ac6-90c4-4669-b064-aeb45e2613ce" common:isActive="true"/></common:propertyVehicleValuations><common:trailer common:propertySubType="SingleAxel"/></common:propertyAuto></app:properties><app:addresses><common:address common:id="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f" common:addressID="1489583" common:street1="159 Blue St." common:street2="" common:postalCode="83202" common:cityName="Pocatello" common:monthsResided="24" common:state="ID" common:country="UnitedStates"><common:residenceType common:isNew="false" common:CD="N"/></common:address></app:addresses><app:scores/><app:org common:isNew="false" common:idRef="6b1fc6f4-5385-4669-8e8f-19041cc91924"/><app:appServiceRequests/><app:vehicleValuations><common:vehicleValuation common:id="a9d74ac6-90c4-4669-b064-aeb45e2613ce" common:valuationID="2662" common:valuationType="Automatic" common:make="" common:model="" common:year="2006" common:state="ID" common:mileage="500" common:newUsed="New" common:vin="" common:estimatedValue="32000" common:postalCode="83202"/></app:vehicleValuations><app:deliverySource common:isNew="false" common:CD="600001"/><app:serviceRequestGroups/></app:application></msg:applications></msg:appImportResponse></createApp></actionAPI></body></SubmitExResult></SubmitExResponse></s:Body></s:Envelope>',
            // Credit Card
            '<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"><s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><SubmitExResponse xmlns="http://tempuri.org/"><SubmitExResult><routing xmlns="BizTalkMessage"><org orgID="4" orgCode="ICCU"/><action transactionType="API"/><user userName="ICCUImportUser"/><interface interfaceID="600001"/><system/><approResult><result>Success</result></approResult></routing><body xmlns="BizTalkMessage"><actionAPI version="1" xmlns=""><createApp><msg:appImportResponse msg:approVersion="4.1" xmlns:msg="Messages" xmlns:app="App" xmlns:maint="Maint" xmlns:util="Util" xmlns:common="Common"><msg:approResult><common:result>Success</common:result></msg:approResult><msg:appIDs><msg:appID>30007371</msg:appID></msg:appIDs><msg:applications><app:files/><app:application app:applicationID="30007366" app:appNum="30007366" app:appReceivedDate="2017-09-27T04:00:00Z" app:appInitiatedDate="2018-08-16T19:10:48.9427398Z" app:priorityCD="High" app:deliveryMethodCD="Internet" app:applicantStructureTypeCD="NoneSelected"><app:appParties><app:primaryBorrower common:idRef="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyType="Individual"><app:appPartyResources><app:appPartyResource app:resourceID="98"/></app:appPartyResources></app:primaryBorrower><app:sourceChannel common:idRef="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:partyType="Channel" app:appPartyType="SourceChannel"/><app:servicingChannel common:idRef="5f798809-1215-40a7-bed6-52fc700c4bfc" common:partyType="Channel" app:appPartyType="ServicingChannel"/></app:appParties><app:parties><common:channel common:id="5f798809-1215-40a7-bed6-52fc700c4bfc" common:isNew="false" common:partyID="12009"/><common:user common:id="801f914d-b637-41b3-af83-d9be2f8bb793" common:isNew="false" common:partyID="990547" common:beginDate="2018-05-08T14:40:31.73" common:timeZoneCode="MST"><common:partyTypes><common:partyType>User</common:partyType><common:partyType>LoanOfficer</common:partyType></common:partyTypes></common:user><common:channel common:id="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:isNew="false" common:partyID="12009"/><common:organization common:id="6b1fc6f4-5385-4669-8e8f-19041cc91924" common:isNew="false" common:partyID="4" common:name="Idaho Central CU" common:description="LoanCenter"><common:partyRelationships><common:partyRelationship common:relationshipType="OrganizationToCustomerDataOwnership"><common:partyRef common:isNew="false" common:idRef="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyType="Individual"/></common:partyRelationship></common:partyRelationships></common:organization><common:group common:id="34fa04a5-9119-493b-9410-61fd69290778" common:isNew="false" common:partyID="11878"><common:partyTypes><common:partyType>Team</common:partyType></common:partyTypes></common:group><common:individual common:id="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyID="1007154" common:languageID="English" common:beginDate="2018-08-16T19:10:48.983" common:ssn="123456789" common:firstName="justin" common:lastName="Test" common:dob="1990-01-08" common:mothersMaidenName="Paper" common:isPermanentResidentFL="false" common:hasAlienRegNumFL="false" common:numOfDependants="0"><common:contactMechanisms><common:contactMechanism common:contactMechanismID="3148983" common:contactMechanismType="CurrentAddress" common:isPreferredContactMechanismFL="false"><common:addressRef common:isNew="false" common:idRef="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f"/><common:contactMechanismCategory common:isNew="false" common:CD="2"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3148984" common:contactMechanismType="MailingAddress" common:isPreferredContactMechanismFL="false"><common:addressRef common:isNew="false" common:idRef="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f"/><common:contactMechanismCategory common:isNew="false" common:CD="2"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3148985" common:contactMechanismType="HomePhone" common:contactString="2082393000" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false" common:CD="1"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3148986" common:contactMechanismType="EMail" common:contactString="dchristensen@iccu.com" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false"/></common:contactMechanism></common:contactMechanisms><common:partyRelationships><common:employment common:relationshipType="Employment"><common:partyRef common:isNew="true" common:idRef="51ec82f1-6c74-4066-ba1a-a7283ae6aad0" common:partyType="Employer"/><common:employmentSubRel common:isNew="false" common:isCurrentFL="true" common:title="Police Officer" common:monthsEmployed="28" common:employmentType="FullTime"><common:userEmploymentType common:isNew="false" common:CD="2"/></common:employmentSubRel></common:employment></common:partyRelationships><common:partyIdentifications><common:partyIdentification common:IDNum="MD564654A" common:issuanceEntity="ID" common:expirationDate="2020-01-07T23:00:00-06:00" common:partyIdentificationID="11495"><common:identificationCD common:isNew="false" common:lookupType="IdentificationType" common:CD="D" common:name="Drivers_License" common:isActive="true"/></common:partyIdentification></common:partyIdentifications><common:incomes><common:income common:incomeID="18749" common:IncomeTypeCD="Salary" common:frequency="Annually" common:amountPerPeriod="42000.0" common:incomeStatus="IncomeStatus_Included" common:incomeAdjustmentPercentage="1"><common:employerRef common:isNew="true" common:idRef="51ec82f1-6c74-4066-ba1a-a7283ae6aad0"/></common:income></common:incomes><common:trades><common:trade common:tradeID="127672" common:accountTypeCD="RealEstateMortgage" common:tradeTypeID="Mortgage" common:creditorName="default" common:debtStatusCD="Include" common:ecoaCD="Individual" common:monthlyPayment="900.0" common:isCurrResidenceRentMortgage="true" common:isSecured="true"><common:kindOfBusiness common:isNew="false" common:lookupType="KOB" common:CD="FM"/></common:trade></common:trades></common:individual><common:employer common:id="51ec82f1-6c74-4066-ba1a-a7283ae6aad0" common:partyID="1007155" common:languageID="English" common:beginDate="2018-08-16T19:10:49.013" common:name="Pocatello Police Department"><common:contactMechanisms><common:contactMechanism common:contactMechanismID="3148987" common:contactMechanismType="WorkPhone" common:contactString="4563156486" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false" common:CD="1"/></common:contactMechanism></common:contactMechanisms></common:employer></app:parties><app:appDetails><app:appDetailBankcard app:appDetailID="11263" app:appDetailSavePoint="Current" app:contractDate="2018-08-16T19:10:48.9271168" app:contractRate="0.000" app:financedAmt="1500" app:equityPercentage="0" app:termInMonths="0" app:daysPerYear="360" app:loanType="Consumer" app:interestRateType="Fixed" app:rankNum="1" app:maxContractRate="0.1799" app:minContractRate="0.0899" app:requestType="New" app:insuranceOptionID="1" app:paymentCalculationType="PctOfAmountRequested" app:requestedAmountPaymentPct="0.020"><app:appDetailParties><app:appDetailParty common:idRef="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:partyType="Channel" app:appPartyType="SourceChannel"/><app:appDetailParty common:idRef="5f798809-1215-40a7-bed6-52fc700c4bfc" common:partyType="Channel" app:appPartyType="ServicingChannel"/><app:appDetailParty common:idRef="801f914d-b637-41b3-af83-d9be2f8bb793" common:partyType="User" app:appPartyType="LoanOfficer"/><app:appDetailParty common:idRef="34fa04a5-9119-493b-9410-61fd69290778" app:appPartyType="QueuedFromUser"/></app:appDetailParties><app:appDetailRequestedAmts><app:appDetailRequestedAmt app:appDetailRequestedAmtID="81306" app:requestedAmount="5000" app:requestedAmountType="Generic"/></app:appDetailRequestedAmts><app:appDetailStatuses><app:appDetailStatus app:appDetailStatusID="31517" app:statusType="WorkflowStatus" app:status="WorkflowStatus_DataAcquisition"/></app:appDetailStatuses><app:product common:isNew="false" common:productID="119" common:beginDate="2014-12-10T00:00:00" common:shortName="Visa Platinum Fixed" common:name="Visa Platinum Fixed" common:isActiveFL="true" common:productTypeID="CreditCard" common:loanType="Consumer" common:liquidCreditProductCategoryCD="2000" common:orgID="4"><common:organizationRef common:isNew="false" common:idRef="9aefc84b-af32-4952-b32f-49b1c711a794"/><common:productCategory common:isNew="false" common:productCategoryID="25" common:name="Credit Card Products" common:description="Credit Card Products" common:isActiveFL="true"><common:organizationRef common:isNew="false" common:idRef="9aefc84b-af32-4952-b32f-49b1c711a794"/></common:productCategory><common:initialTeamRef common:isNew="false" common:idRef="9c4d7d75-bbe6-40bc-a1dd-d2b700c5e8c8"/><common:productFormPackage common:isNew="false" common:CD="1" common:name="Credit Card" common:formPackageTypeID="1"/></app:product><app:appDetailStipulations><app:appDetailStipulation app:appDetailStipulationID="74214" app:status="Open" app:name="Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger."><app:stipulation common:isNew="false" common:stipulationID="16" common:name="Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger." common:sortOrder="0"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74215" app:status="Open" app:name="Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification."><app:stipulation common:isNew="false" common:stipulationID="17" common:name="Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification." common:sortOrder="1"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74216" app:status="Open" app:name="Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates."><app:stipulation common:isNew="false" common:stipulationID="18" common:name="Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates." common:sortOrder="2"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="74217" app:status="Open" app:name="Verify Primary Borrower is Tax Owner on Share"><app:stipulation common:isNew="false" common:stipulationID="77" common:name="Verify Primary Borrower is Tax Owner on Share" common:sortOrder="3"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation></app:appDetailStipulations><app:riskProcessingLevel common:isNew="false" common:lookupType="RPL" common:CD="1"/><app:fields><common:lookupFieldLink common:value="10"><common:customLookupField common:isNew="false" common:name="Credit Card Promotion" common:ID="-37" common:fieldLevel="ProductCategory"/></common:lookupFieldLink></app:fields><app:pricingPlan common:isNew="false" common:planID="17"/><app:appDetailIndirect common:isNew="false" app:payDealerNow="false" app:payOriginationFeeNow="false" app:calcOriginationFeeFL="false" app:useCRBRRuleFL="false" app:isOriginationFeeValuePct="false" app:calcDiscountFL="false" app:globalDiscountFL="true" app:federalDisclosureFL="false"/><app:loanPurposes><app:appDetailLoanPurpose app:rank="1"><app:loanPurpose common:isNew="false" common:CD="18"/></app:appDetailLoanPurpose></app:loanPurposes><app:appDetailProcessQuestionResponses><app:appDetailQuestionResponse app:appDetailQuestionResponseID="33163" app:processID="51" app:ordernum="2"><app:question common:isNew="false" common:questionID="86"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse></app:appDetailProcessQuestionResponses></app:appDetailBankcard></app:appDetails><app:properties/><app:addresses><common:address common:id="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f" common:addressID="1489582" common:street1="147 Sharp" common:street2="" common:postalCode="83704" common:cityName="Boise" common:monthsResided="108" common:state="ID" common:country="UnitedStates"><common:residenceType common:isNew="false" common:CD="R"/></common:address></app:addresses><app:scores/><app:org common:isNew="false" common:idRef="6b1fc6f4-5385-4669-8e8f-19041cc91924"/><app:appServiceRequests/><app:vehicleValuations/><app:deliverySource common:isNew="false" common:CD="600001"/><app:serviceRequestGroups/></app:application></msg:applications></msg:appImportResponse></createApp></actionAPI></body></SubmitExResult></SubmitExResponse></s:Body></s:Envelope>',
            // New Auto
            '<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"><s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><SubmitExResponse xmlns="http://tempuri.org/"><SubmitExResult><routing xmlns="BizTalkMessage"><org orgID="4" orgCode="ICCU"/><action transactionType="API"/><user userName="ICCUImportUser"/><interface interfaceID="600001"/><system/><approResult><result>Success</result></approResult></routing><body xmlns="BizTalkMessage"><actionAPI version="1" xmlns=""><createApp><msg:appImportResponse msg:approVersion="4.1" xmlns:msg="Messages" xmlns:app="App" xmlns:maint="Maint" xmlns:util="Util" xmlns:common="Common"><msg:approResult><common:result>Success</common:result></msg:approResult><msg:appIDs><msg:appID>30007371</msg:appID></msg:appIDs><msg:applications><app:files/><app:application app:applicationID="30007347" app:appNum="30007347" app:appReceivedDate="2017-09-27T04:00:00Z" app:appInitiatedDate="2018-08-15T22:36:22.179506Z" app:priorityCD="High" app:deliveryMethodCD="Internet" app:applicantStructureTypeCD="NoneSelected"><app:appParties><app:primaryBorrower common:idRef="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyType="Individual"><app:appPartyResources><app:appPartyResource app:resourceID="98"/></app:appPartyResources></app:primaryBorrower><app:sourceChannel common:idRef="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:partyType="Channel" app:appPartyType="SourceChannel"/><app:servicingChannel common:idRef="5f798809-1215-40a7-bed6-52fc700c4bfc" common:partyType="Channel" app:appPartyType="ServicingChannel"/></app:appParties><app:parties><common:individual common:id="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyID="1007124" common:languageID="English" common:beginDate="2018-08-15T22:36:22.267" common:ssn="123456789" common:firstName="justin" common:lastName="Test" common:dob="1990-01-08" common:mothersMaidenName="Paper" common:isPermanentResidentFL="false" common:hasAlienRegNumFL="false" common:numOfDependants="0"><common:contactMechanisms><common:contactMechanism common:contactMechanismID="3148868" common:contactMechanismType="CurrentAddress" common:isPreferredContactMechanismFL="false"><common:addressRef common:isNew="false" common:idRef="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f"/><common:contactMechanismCategory common:isNew="false" common:CD="2"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3148869" common:contactMechanismType="MailingAddress" common:isPreferredContactMechanismFL="false"><common:addressRef common:isNew="false" common:idRef="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f"/><common:contactMechanismCategory common:isNew="false" common:CD="2"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3148870" common:contactMechanismType="HomePhone" common:contactString="2082393000" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false" common:CD="1"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3148871" common:contactMechanismType="EMail" common:contactString="dchristensen@iccu.com" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false"/></common:contactMechanism></common:contactMechanisms><common:partyRelationships><common:employment common:relationshipType="Employment"><common:partyRef common:isNew="true" common:idRef="51ec82f1-6c74-4066-ba1a-a7283ae6aad0" common:partyType="Employer"/><common:employmentSubRel common:isNew="false" common:isCurrentFL="true" common:title="Police Officer" common:monthsEmployed="28" common:employmentType="FullTime"><common:userEmploymentType common:isNew="false" common:CD="2"/></common:employmentSubRel></common:employment></common:partyRelationships><common:partyIdentifications><common:partyIdentification common:IDNum="MD564654A" common:issuanceEntity="ID" common:expirationDate="2020-01-07T23:00:00-06:00" common:partyIdentificationID="11478"><common:identificationCD common:isNew="false" common:lookupType="IdentificationType" common:CD="D" common:name="Drivers_License" common:isActive="true"/></common:partyIdentification></common:partyIdentifications><common:incomes><common:income common:incomeID="18738" common:IncomeTypeCD="Salary" common:frequency="Annually" common:amountPerPeriod="42000.0" common:incomeStatus="IncomeStatus_Included" common:incomeAdjustmentPercentage="1"><common:employerRef common:isNew="true" common:idRef="51ec82f1-6c74-4066-ba1a-a7283ae6aad0"/></common:income></common:incomes><common:trades><common:trade common:tradeID="127614" common:accountTypeCD="RealEstateMortgage" common:tradeTypeID="Mortgage" common:creditorName="default" common:debtStatusCD="Include" common:ecoaCD="Individual" common:monthlyPayment="900.0" common:isCurrResidenceRentMortgage="true" common:isSecured="true"><common:kindOfBusiness common:isNew="false" common:lookupType="KOB" common:CD="FM"/></common:trade></common:trades></common:individual><common:channel common:id="5f798809-1215-40a7-bed6-52fc700c4bfc" common:isNew="false" common:partyID="12009"/><common:user common:id="801f914d-b637-41b3-af83-d9be2f8bb793" common:isNew="false" common:partyID="990547" common:beginDate="2018-05-08T14:40:31.73" common:timeZoneCode="MST"><common:partyTypes><common:partyType>User</common:partyType><common:partyType>LoanOfficer</common:partyType></common:partyTypes></common:user><common:channel common:id="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:isNew="false" common:partyID="12009"/><common:organization common:id="6b1fc6f4-5385-4669-8e8f-19041cc91924" common:isNew="false" common:partyID="4" common:name="Idaho Central CU" common:description="LoanCenter"><common:partyRelationships><common:partyRelationship common:relationshipType="OrganizationToCustomerDataOwnership"><common:partyRef common:isNew="false" common:idRef="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyType="Individual"/></common:partyRelationship></common:partyRelationships></common:organization><common:group common:id="a332f2fc-d831-4304-955c-f4cd972ca303" common:isNew="false" common:partyID="11878"><common:partyTypes><common:partyType>Team</common:partyType></common:partyTypes></common:group><common:employer common:id="51ec82f1-6c74-4066-ba1a-a7283ae6aad0" common:partyID="1007125" common:languageID="English" common:beginDate="2018-08-15T22:36:22.28" common:name="Pocatello Police Department"><common:contactMechanisms><common:contactMechanism common:contactMechanismID="3148872" common:contactMechanismType="WorkPhone" common:contactString="4563156486" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false" common:CD="1"/></common:contactMechanism></common:contactMechanisms></common:employer></app:parties><app:appDetails><app:appDetailVehicle app:appDetailID="11241" app:appDetailSavePoint="Current" app:contractDate="2018-08-15T22:36:22.179506" app:contractRate="0.000" app:financedAmt="32000" app:equityPercentage="0" app:termInMonths="48" app:daysPerYear="360" app:calculationType="Installment" app:loanType="Consumer" app:interestRateType="Fixed" app:rankNum="1" app:maxContractRate="0.180" app:minContractRate="0.000" app:initialSalesPrice="32000" app:insuranceOptionID="1" app:varianceMode="false"><app:appDetailParties><app:appDetailParty common:idRef="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:partyType="Channel" app:appPartyType="SourceChannel"/><app:appDetailParty common:idRef="5f798809-1215-40a7-bed6-52fc700c4bfc" common:partyType="Channel" app:appPartyType="ServicingChannel"/><app:appDetailParty common:idRef="801f914d-b637-41b3-af83-d9be2f8bb793" common:partyType="User" app:appPartyType="LoanOfficer"/><app:appDetailParty common:idRef="a332f2fc-d831-4304-955c-f4cd972ca303" app:appPartyType="QueuedFromUser"/></app:appDetailParties><app:appDetailProperties><app:appDetailProperty common:idRef="5b13c9b8-ec7b-4709-857f-c3ae504e49af" common:propertyType="Auto" common:propertySubType="NoneSelected" app:isCollateralFL="true" app:statusID="Active" app:includeInLTVCalculations="true"/></app:appDetailProperties><app:appDetailRequestedAmts><app:appDetailRequestedAmt app:appDetailRequestedAmtID="81141" app:requestedAmount="5000" app:requestedAmountType="Generic"/></app:appDetailRequestedAmts><app:appDetailStatuses><app:appDetailStatus app:appDetailStatusID="31222" app:statusType="WorkflowStatus" app:status="WorkflowStatus_DataAcquisition"/></app:appDetailStatuses><app:product common:isNew="false" common:productID="107" common:beginDate="2014-12-05T00:00:00" common:shortName="New Auto" common:name="New Auto" common:isActiveFL="true" common:productTypeID="Vehicle" common:loanType="Consumer" common:liquidCreditProductCategoryCD="2200" common:orgID="4"><common:organizationRef common:isNew="false" common:idRef="628539fe-46cd-4196-af27-c3ee772fdbbc"/><common:productCategory common:isNew="false" common:productCategoryID="22" common:name="Direct Products" common:description="Direct Products" common:isActiveFL="true"><common:organizationRef common:isNew="false" common:idRef="628539fe-46cd-4196-af27-c3ee772fdbbc"/></common:productCategory><common:initialTeamRef common:isNew="false" common:idRef="66ef4a44-be29-421e-b51f-684c107b468f"/><common:productFormPackage common:isNew="false" common:CD="4" common:name="Vehicle (Direct)" common:formPackageTypeID="1"/></app:product><app:appDetailStipulations><app:appDetailStipulation app:appDetailStipulationID="73660" app:status="Open" app:name="Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger."><app:stipulation common:isNew="false" common:stipulationID="16" common:name="Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger." common:sortOrder="0"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="73661" app:status="Open" app:name="Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification."><app:stipulation common:isNew="false" common:stipulationID="17" common:name="Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification." common:sortOrder="1"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="73662" app:status="Open" app:name="Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates."><app:stipulation common:isNew="false" common:stipulationID="18" common:name="Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates." common:sortOrder="2"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="73663" app:status="Open" app:name="Valid drivers license Select satisfied if there is a valid DL imaged"><app:stipulation common:isNew="false" common:stipulationID="20" common:name="Valid drivers license Select satisfied if there is a valid DL imaged" common:sortOrder="4"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="73664" app:status="Open" app:name="Title in hand imaged"><app:stipulation common:isNew="false" common:stipulationID="72" common:name="Title in hand imaged" common:sortOrder="3"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="73665" app:status="Open" app:name="Verify Primary Borrower is Tax Owner on Share"><app:stipulation common:isNew="false" common:stipulationID="77" common:name="Verify Primary Borrower is Tax Owner on Share" common:sortOrder="5"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation></app:appDetailStipulations><app:riskProcessingLevel common:isNew="false" common:lookupType="RPL" common:CD="1"/><app:pricingPlan common:isNew="false" common:planID="1"/><app:appDetailIndirect common:isNew="false" app:payDealerNow="false" app:payOriginationFeeNow="false" app:calcOriginationFeeFL="false" app:useCRBRRuleFL="false" app:isOriginationFeeValuePct="false" app:calcDiscountFL="false" app:globalDiscountFL="true" app:federalDisclosureFL="false"/><app:loanPurposes><app:appDetailLoanPurpose app:rank="1"><app:loanPurpose common:isNew="false" common:CD="140"/></app:appDetailLoanPurpose></app:loanPurposes><app:appDetailProcessQuestionResponses><app:appDetailQuestionResponse app:appDetailQuestionResponseID="32969" app:processID="51" app:ordernum="0"><app:question common:isNew="false" common:questionID="86"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse><app:appDetailQuestionResponse app:processID="52" app:ordernum="0"><app:question common:isNew="false" common:questionID="78"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse><app:appDetailQuestionResponse app:processID="52" app:ordernum="1"><app:question common:isNew="false" common:questionID="80"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse><app:appDetailQuestionResponse app:processID="52" app:ordernum="2"><app:question common:isNew="false" common:questionID="79"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse></app:appDetailProcessQuestionResponses><app:vehicleValuations><app:appDetailVehicleValuation common:idRef="a9d74ac6-90c4-4669-b064-aeb45e2613ce" app:valueType="Retail"/></app:vehicleValuations></app:appDetailVehicle></app:appDetails><app:properties><common:propertyAuto common:id="5b13c9b8-ec7b-4709-857f-c3ae504e49af" common:propertyID="6578" common:hasClearTitleFL="true" common:yearBuilt="2006" common:totalValue="5999.00" common:propertyType="Auto" common:propertyUsageTypeID="Personal"><common:propertyVehicleValuations><common:propertyVehicleValuation common:idRef="a9d74ac6-90c4-4669-b064-aeb45e2613ce" common:isActive="true"/></common:propertyVehicleValuations></common:propertyAuto></app:properties><app:addresses><common:address common:id="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f" common:addressID="1489561" common:street1="159 Blue St." common:street2="" common:postalCode="83202" common:cityName="Pocatello" common:monthsResided="24" common:state="ID" common:country="UnitedStates"><common:residenceType common:isNew="false" common:CD="N"/></common:address></app:addresses><app:scores/><app:org common:isNew="false" common:idRef="6b1fc6f4-5385-4669-8e8f-19041cc91924"/><app:appServiceRequests/><app:vehicleValuations><common:vehicleValuation common:id="a9d74ac6-90c4-4669-b064-aeb45e2613ce" common:valuationID="2658" common:valuationType="Automatic" common:make="" common:model="" common:year="2006" common:state="ID" common:mileage="500" common:newUsed="New" common:vin="" common:estimatedValue="32000" common:postalCode="83202"/></app:vehicleValuations><app:deliverySource common:isNew="false" common:CD="600001"/><app:serviceRequestGroups/></app:application></msg:applications></msg:appImportResponse></createApp></actionAPI></body></SubmitExResult></SubmitExResponse></s:Body></s:Envelope>'
        };

        try {
            for (String payload : payloads) {
                AOCRIFCreateAppDecisionLogParser parser = new AOCRIFCreateAppDecisionLogParser();
                AOApplicationInfo appInfo = new AOApplicationInfo(null);
                parser.parseXML(payload, appInfo);

                List<String> appIds = appInfo.loanApplicationIds;

                System.assert(appIds != null, 'Expected the CRIF app IDs to NOT be null. ');
                System.assert(appIds.size() == 1, 'Expected the CRIF app IDs to be greater than 0');

                String expectedAppId = '30007371';
                System.assert(expectedAppId == appIds[0], 'Application IDs did not match.  Expected (' + expectedAppId + ').  Parsed (' + appIds + ').');

                Decimal totalAmount = appInfo.loanTotalAmount;
                Decimal expectedAmount = 5000.0;

                List<String> errors = appInfo.errors;

                Integer expectedErrorCount = 0;
                Integer actualErrorCount = errors.size();
                System.assertEquals(expectedErrorCount, actualErrorCount, 'Error: ' + errors);

                System.assert(totalAmount != null, 'Expected the total amount to NOT be null. Payload index: ' + payloads.indexOf(payload));
                System.assert(totalAmount == expectedAmount, 'Amounts did not match.  Expected (' + expectedAmount + ') Receieved: (' + totalAmount + ').');
            }
        } catch(Exception e) {
            System.assert(false, 'Threw an exception: ' + e + ' stack trace: ' + e.getStackTraceString());
        }
    }

    @IsTest
    private static void testProductInfo() {
        String autoRefi = '<s:Envelope xmlns:s="http://schemas.xmlsoap.org/soap/envelope/"><s:Body xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><SubmitExResponse xmlns="http://tempuri.org/"><SubmitExResult><routing xmlns="BizTalkMessage"><org orgID="4" orgCode="ICCU"/><action transactionType="API"/><user userName="ICCUImportUser"/><interface interfaceID="600001"/><system/><approResult><result>Success</result></approResult></routing><body xmlns="BizTalkMessage"><actionAPI version="1" xmlns=""><createApp><msg:appImportResponse msg:approVersion="4.1" xmlns:msg="Messages" xmlns:app="App" xmlns:maint="Maint" xmlns:util="Util" xmlns:common="Common"><msg:approResult><common:result>Success</common:result></msg:approResult><msg:appIDs><msg:appID>30009063</msg:appID></msg:appIDs><msg:applications><app:files/><app:application app:applicationID="30009063" app:appNum="30009063" app:appReceivedDate="2017-09-27T04:00:00Z" app:appInitiatedDate="2018-09-24T16:56:10.7112764Z" app:priorityCD="High" app:deliveryMethodCD="Internet" app:applicantStructureTypeCD="NoneSelected"><app:appParties><app:primaryBorrower common:idRef="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyType="Individual"><app:appPartyResources><app:appPartyResource app:resourceID="98"/></app:appPartyResources></app:primaryBorrower><app:sourceChannel common:idRef="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:partyType="Channel" app:appPartyType="SourceChannel"/><app:servicingChannel common:idRef="5f798809-1215-40a7-bed6-52fc700c4bfc" common:partyType="Channel" app:appPartyType="ServicingChannel"/></app:appParties><app:parties><common:channel common:id="5f798809-1215-40a7-bed6-52fc700c4bfc" common:isNew="false" common:partyID="12009"/><common:user common:id="801f914d-b637-41b3-af83-d9be2f8bb793" common:isNew="false" common:partyID="990547" common:beginDate="2018-05-08T14:40:31.73" common:timeZoneCode="MST"><common:partyTypes><common:partyType>User</common:partyType><common:partyType>LoanOfficer</common:partyType></common:partyTypes></common:user><common:channel common:id="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:isNew="false" common:partyID="12009"/><common:organization common:id="6b1fc6f4-5385-4669-8e8f-19041cc91924" common:isNew="false" common:partyID="4" common:name="Idaho Central CU" common:description="LoanCenter"><common:partyRelationships><common:partyRelationship common:relationshipType="OrganizationToCustomerDataOwnership"><common:partyRef common:isNew="false" common:idRef="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyType="Individual"/></common:partyRelationship></common:partyRelationships></common:organization><common:group common:id="636d6474-de6d-4400-8d59-e016b8efe111" common:isNew="false" common:partyID="11878"><common:partyTypes><common:partyType>Team</common:partyType></common:partyTypes></common:group><common:individual common:id="387164d6-bd97-4935-912f-90551ed5cbdd" common:partyID="1012562" common:languageID="English" common:beginDate="2018-09-24T16:56:10.833" common:ssn="123456789" common:firstName="justin" common:lastName="Test" common:dob="1990-01-08" common:mothersMaidenName="Paper" common:isPermanentResidentFL="false" common:hasAlienRegNumFL="false" common:numOfDependants="0"><common:contactMechanisms><common:contactMechanism common:contactMechanismID="3174561" common:contactMechanismType="CurrentAddress" common:isPreferredContactMechanismFL="false"><common:addressRef common:isNew="false" common:idRef="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f"/><common:contactMechanismCategory common:isNew="false" common:CD="2"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3174562" common:contactMechanismType="MailingAddress" common:isPreferredContactMechanismFL="false"><common:addressRef common:isNew="false" common:idRef="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f"/><common:contactMechanismCategory common:isNew="false" common:CD="2"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3174563" common:contactMechanismType="HomePhone" common:contactString="2082393000" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false" common:CD="1"/></common:contactMechanism><common:contactMechanism common:contactMechanismID="3174564" common:contactMechanismType="EMail" common:contactString="dchristensen@iccu.com" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false"/></common:contactMechanism></common:contactMechanisms><common:partyRelationships><common:employment common:relationshipType="Employment"><common:partyRef common:isNew="true" common:idRef="51ec82f1-6c74-4066-ba1a-a7283ae6aad0" common:partyType="Employer"/><common:employmentSubRel common:isNew="false" common:isCurrentFL="true" common:title="Police Officer" common:monthsEmployed="28" common:employmentType="FullTime"><common:userEmploymentType common:isNew="false" common:CD="2"/></common:employmentSubRel></common:employment></common:partyRelationships><common:partyIdentifications><common:partyIdentification common:IDNum="MD564654A" common:issuanceEntity="ID" common:expirationDate="2020-01-07T23:00:00-06:00" common:partyIdentificationID="14539"><common:identificationCD common:isNew="false" common:lookupType="IdentificationType" common:CD="D" common:name="Drivers_License" common:isActive="true"/></common:partyIdentification></common:partyIdentifications><common:incomes><common:income common:incomeID="23008" common:IncomeTypeCD="Salary" common:frequency="Annually" common:amountPerPeriod="42000.0" common:incomeStatus="IncomeStatus_Included" common:incomeAdjustmentPercentage="1"><common:employerRef common:isNew="true" common:idRef="51ec82f1-6c74-4066-ba1a-a7283ae6aad0"/></common:income></common:incomes><common:trades><common:trade common:tradeID="153895" common:accountTypeCD="RealEstateMortgage" common:tradeTypeID="Mortgage" common:creditorName="default" common:debtStatusCD="Include" common:ecoaCD="Individual" common:monthlyPayment="900.0" common:isCurrResidenceRentMortgage="true" common:isSecured="true"><common:kindOfBusiness common:isNew="false" common:lookupType="KOB" common:CD="FM"/></common:trade></common:trades></common:individual><common:employer common:id="51ec82f1-6c74-4066-ba1a-a7283ae6aad0" common:partyID="1012563" common:languageID="English" common:beginDate="2018-09-24T16:56:10.863" common:name="Pocatello Police Department"><common:contactMechanisms><common:contactMechanism common:contactMechanismID="3174565" common:contactMechanismType="WorkPhone" common:contactString="4563156486" common:isPreferredContactMechanismFL="false"><common:contactMechanismCategory common:isNew="false" common:CD="1"/></common:contactMechanism></common:contactMechanisms></common:employer></app:parties><app:appDetails><app:appDetailVehicle app:appDetailID="13431" app:appDetailSavePoint="Current" app:contractDate="2018-09-24T16:56:10.6956525" app:contractRate="0.180" app:financedAmt="32000" app:equityPercentage="0" app:termInMonths="48" app:daysPerYear="360" app:calculationType="Installment" app:loanType="Consumer" app:interestRateType="Fixed" app:rankNum="1" app:maxContractRate="0.180" app:minContractRate="0.000" app:requestType="Refinance" app:initialSalesPrice="32000" app:insuranceOptionID="1" app:varianceMode="false"><app:appDetailParties><app:appDetailParty common:idRef="b8c9d648-3fb7-48f6-988e-ce6b5332f448" common:partyType="Channel" app:appPartyType="SourceChannel"/><app:appDetailParty common:idRef="5f798809-1215-40a7-bed6-52fc700c4bfc" common:partyType="Channel" app:appPartyType="ServicingChannel"/><app:appDetailParty common:idRef="801f914d-b637-41b3-af83-d9be2f8bb793" common:partyType="User" app:appPartyType="LoanOfficer"/><app:appDetailParty common:idRef="636d6474-de6d-4400-8d59-e016b8efe111" app:appPartyType="QueuedFromUser"/></app:appDetailParties><app:appDetailProperties><app:appDetailProperty common:idRef="5b13c9b8-ec7b-4709-857f-c3ae504e49af" common:propertyType="Auto" common:propertySubType="NoneSelected" app:isCollateralFL="true" app:statusID="Active" app:includeInLTVCalculations="true"/></app:appDetailProperties><app:appDetailRequestedAmts><app:appDetailRequestedAmt app:appDetailRequestedAmtID="89852" app:requestedAmount="5000" app:requestedAmountType="Generic"/></app:appDetailRequestedAmts><app:appDetailStatuses><app:appDetailStatus app:appDetailStatusID="45195" app:statusType="WorkflowStatus" app:status="WorkflowStatus_DataAcquisition"/></app:appDetailStatuses><app:product common:isNew="false" common:productID="139" common:beginDate="2016-05-16T00:00:00" common:shortName="Used Auto" common:name="Used Auto" common:isActiveFL="true" common:productTypeID="Vehicle" common:loanType="Consumer" common:liquidCreditProductCategoryCD="2200" common:orgID="4"><common:organizationRef common:isNew="false" common:idRef="baa61cc1-fd29-4c30-b526-8d48a2f5c853"/><common:productCategory common:isNew="false" common:productCategoryID="22" common:name="Direct Products" common:description="Direct Products" common:isActiveFL="true"><common:organizationRef common:isNew="false" common:idRef="baa61cc1-fd29-4c30-b526-8d48a2f5c853"/></common:productCategory><common:initialTeamRef common:isNew="false" common:idRef="374be0e2-b49b-4547-b386-18575f34c3d1"/><common:productFormPackage common:isNew="false" common:CD="4" common:name="Vehicle (Direct)" common:formPackageTypeID="1"/></app:product><app:appDetailStipulations><app:appDetailStipulation app:appDetailStipulationID="108899" app:status="Open" app:name="Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger."><app:stipulation common:isNew="false" common:stipulationID="16" common:name="Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger." common:sortOrder="0"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="108900" app:status="Open" app:name="Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification."><app:stipulation common:isNew="false" common:stipulationID="17" common:name="Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification." common:sortOrder="1"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="108901" app:status="Open" app:name="Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates."><app:stipulation common:isNew="false" common:stipulationID="18" common:name="Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates." common:sortOrder="2"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="108902" app:status="Open" app:name="Valid drivers license Select satisfied if there is a valid DL imaged"><app:stipulation common:isNew="false" common:stipulationID="20" common:name="Valid drivers license Select satisfied if there is a valid DL imaged" common:sortOrder="4"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="108903" app:status="Open" app:name="Title in hand imaged"><app:stipulation common:isNew="false" common:stipulationID="72" common:name="Title in hand imaged" common:sortOrder="3"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation><app:appDetailStipulation app:appDetailStipulationID="108904" app:status="Open" app:name="Verify Primary Borrower is Tax Owner on Share"><app:stipulation common:isNew="false" common:stipulationID="77" common:name="Verify Primary Borrower is Tax Owner on Share" common:sortOrder="5"/><app:stipulationSource common:isNew="false" common:CD="2"/></app:appDetailStipulation></app:appDetailStipulations><app:riskProcessingLevel common:isNew="false" common:lookupType="RPL" common:CD="1"/><app:pricingPlan common:isNew="false" common:planID="1"/><app:appDetailIndirect common:isNew="false" app:payDealerNow="false" app:payOriginationFeeNow="false" app:calcOriginationFeeFL="false" app:useCRBRRuleFL="false" app:isOriginationFeeValuePct="false" app:calcDiscountFL="false" app:globalDiscountFL="true" app:federalDisclosureFL="false"/><app:loanPurposes><app:appDetailLoanPurpose app:rank="1"><app:loanPurpose common:isNew="false" common:CD="11"/></app:appDetailLoanPurpose></app:loanPurposes><app:appDetailProcessQuestionResponses><app:appDetailQuestionResponse app:appDetailQuestionResponseID="48591" app:processID="51" app:ordernum="0"><app:question common:isNew="false" common:questionID="86"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse><app:appDetailQuestionResponse app:processID="52" app:ordernum="0"><app:question common:isNew="false" common:questionID="78"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse><app:appDetailQuestionResponse app:processID="52" app:ordernum="1"><app:question common:isNew="false" common:questionID="80"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse><app:appDetailQuestionResponse app:processID="52" app:ordernum="2"><app:question common:isNew="false" common:questionID="79"/><app:lookupResponse common:isNew="false" common:CD="2"/></app:appDetailQuestionResponse></app:appDetailProcessQuestionResponses><app:vehicleValuations><app:appDetailVehicleValuation common:idRef="a9d74ac6-90c4-4669-b064-aeb45e2613ce" app:valueType="Retail"/></app:vehicleValuations></app:appDetailVehicle></app:appDetails><app:properties><common:propertyAuto common:id="5b13c9b8-ec7b-4709-857f-c3ae504e49af" common:propertyID="7537" common:propertySubType="Automobile" common:hasClearTitleFL="true" common:yearBuilt="2006" common:propertyType="Auto" common:propertyUsageTypeID="Personal"><common:propertyVehicleValuations><common:propertyVehicleValuation common:idRef="a9d74ac6-90c4-4669-b064-aeb45e2613ce" common:isActive="true"/></common:propertyVehicleValuations></common:propertyAuto></app:properties><app:addresses><common:address common:id="43d25bbd-1c01-44a0-bf2c-a85f87f82d6f" common:addressID="1497410" common:street1="159 Blue St." common:street2="" common:postalCode="83202" common:cityName="Pocatello" common:monthsResided="24" common:state="ID" common:country="UnitedStates"><common:residenceType common:isNew="false" common:CD="N"/></common:address></app:addresses><app:scores/><app:org common:isNew="false" common:idRef="6b1fc6f4-5385-4669-8e8f-19041cc91924"/><app:appServiceRequests/><app:vehicleValuations><common:vehicleValuation common:id="a9d74ac6-90c4-4669-b064-aeb45e2613ce" common:valuationID="3530" common:valuationType="Automatic" common:make="" common:model="" common:year="2006" common:state="ID" common:mileage="500" common:newUsed="Used" common:vin="IDSPISPOPD" common:estimatedValue="32000" common:postalCode="83202"/></app:vehicleValuations><app:deliverySource common:isNew="false" common:CD="600001"/><app:serviceRequestGroups/></app:application></msg:applications></msg:appImportResponse></createApp></actionAPI></body></SubmitExResult></SubmitExResponse></s:Body></s:Envelope>';
        AOApplicationInfo appInfo = new AOApplicationInfo(null);

        Test.startTest();

        AOCRIFCreateAppDecisionLogParser parser = new AOCRIFCreateAppDecisionLogParser();
        try {
            parser.parseXML(autoRefi, appInfo);
        } catch(Exception e) {
            System.assert(false, 'Threw an exception: ' + e + ' stack trace: ' + e.getStackTraceString());
        }

        Test.stopTest();

        List<AOApplicationInfo.AOLoanApplication> apps = appInfo.loanApplications;
        AOApplicationInfo.AOLoanApplication app = apps[0];

        System.assert(apps != null, 'Loan applications were null!');
        System.assertEquals(1, apps.size());
        System.assertEquals('IDSPISPOPD', app.vin);
        System.assertEquals('Auto', app.propertyType);
        System.assertEquals('NoneSelected', app.propertySubType);
        System.assertEquals('Refinance', app.purchaseType);
    }

    @IsTest
    private static void testMissingEverything() {
        String testData = '{"applicant":{"person":{"tax_id":"599-99-1112","first_name":"Aaron","last_name":"Hansen","birth_date":"1982-01-03","home_phone":{"country_code":null,"phone_number":"3081231234","extension":null},"mobile_phone":{"country_code":null,"phone_number":null,"extension":null},"work_phone":{"country_code":null,"phone_number":null,"extension":null},"email":"avokatest123","identification":{"type":"drivers_license","id_number":"DB195346C","issuing_authority":"ID","issue_date":"1988-07-06","expire_date":"1988-07-06"},"primary_address":{"line_1":"123 Main Street","line_2":"","city":"Twin Falls","state":"ID","postal_code":"83301","country":"USA","is_preferred":true},"user_fields":[]},"persona":"unknown","membership_eligibility":"","system_info":[{"system_name":"SFDC","everything":"","status":"success","decision":"APPROVE","tracking_number":"XHCVWHN","system_display_name":"SFDC-Contact Check"},{"system_name":"CreateApp","everything":"","status":"success","decision":"APPROVE","tracking_number":"ZXK7TTF","system_display_name":"CRIF - CreateApp"},{"system_name":"CrifDecisioning","everything":"","status":"success","decision":"APPROVE","tracking_number":"ZXK7TTF","system_display_name":"CRIF - Decisioning"}]},"co_applicants":[],"products":[{"product_name":"Premier Rewards Visa","major_type":"CRIF","minor_type":"134"}],"promotions":[],"funding_info":{},"reports":[],"app_status":"complete","version":"3","form":{"name":"accountsandfunding","tracking_code":"ZXK7TTF","job_reference_code":"ZXK7TTF","url":"https://test.iccu.avoka-transact.com/apps/secure/form.htm?submitKey=7d0d72a41dfe8aba616181774f1539a1"},"application_id":""}';
        AOApplicationRestRequest request = AOApplicationRestRequest.parse(testData);
        AOApplicationInfo appInfo = new AOApplicationInfo(request);

        Test.startTest();

        AOCRIFCreateAppDecisionLogParser parser = new AOCRIFCreateAppDecisionLogParser();
        try {
            parser.parsePayload(request.applicant.system_info, appInfo);
        } catch(Exception e) {
            System.assert(false, 'Threw an exception: ' + e + ' stack trace: ' + e.getStackTraceString());
        }

        Test.stopTest();

        String systemName = parser.getSystemName();
        AOInteractionResult result = appInfo.systemInteractionResults.get(systemName);

        System.assertNotEquals(null, result);
        System.assertEquals(AOInteractionResult.State.ERROR, result.state);
    }

    @IsTest
    private static void testErrors() {
        String testData = '{"applicant":{"person":{"tax_id":"599-99-1112","first_name":"Aaron","last_name":"Hansen","birth_date":"1982-01-03","home_phone":{"country_code":null,"phone_number":"3081231234","extension":null},"mobile_phone":{"country_code":null,"phone_number":null,"extension":null},"work_phone":{"country_code":null,"phone_number":null,"extension":null},"email":"avokatest123","identification":{"type":"drivers_license","id_number":"DB195346C","issuing_authority":"ID","issue_date":"1988-07-06","expire_date":"1988-07-06"},"primary_address":{"line_1":"123 Main Street","line_2":"","city":"Twin Falls","state":"ID","postal_code":"83301","country":"USA","is_preferred":true},"user_fields":[]},"persona":"unknown","membership_eligibility":"","system_info":[{"system_name":"SFDC","everything":"","status":"success","decision":"APPROVE","tracking_number":"XHCVWHN","system_display_name":"SFDC-Contact Check"},{"system_name":"CreateApp","everything":"<s:Envelope xmlns:s=\\"http://schemas.xmlsoap.org/soap/envelope/\\"><s:Body xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\" xmlns:xsd=\\"http://www.w3.org/2001/XMLSchema\\"><SubmitExResponse xmlns=\\"http://tempuri.org/\\"><SubmitExResult><routing xmlns=\\"BizTalkMessage\\"><org orgID=\\"4\\" orgCode=\\"ICCU\\"/><action transactionType=\\"API\\"/><user userName=\\"ICCUImportUser\\"/><interface interfaceID=\\"600001\\"/><system/><approResult><result>Success</result></approResult></routing><body xmlns=\\"BizTalkMessage\\"><actionAPI version=\\"1\\" xmlns=\\"\\"><createApp><errors><error>new applications must have a properly referenced organization node</error></errors></createApp></actionAPI></body></SubmitExResult></SubmitExResponse></s:Body></s:Envelope>","status":"success","decision":"APPROVE","tracking_number":"ZXK7TTF","system_display_name":"CRIF - Decisioning"}]},"co_applicants":[],"products":[{"product_name":"Premier Rewards Visa","major_type":"CRIF","minor_type":"134"}],"promotions":[],"funding_info":{},"reports":[],"app_status":"complete","version":"3","form":{"name":"accountsandfunding","tracking_code":"ZXK7TTF","job_reference_code":"ZXK7TTF","url":"https://test.iccu.avoka-transact.com/apps/secure/form.htm?submitKey=7d0d72a41dfe8aba616181774f1539a1"},"application_id":""}';
        AOApplicationRestRequest request = AOApplicationRestRequest.parse(testData);
        AOApplicationInfo appInfo = new AOApplicationInfo(request);

        Test.startTest();

        AOCRIFCreateAppDecisionLogParser parser = new AOCRIFCreateAppDecisionLogParser();
        try {
            parser.parsePayload(request.applicant.system_info, appInfo);
        } catch(Exception e) {
            System.assert(false, 'Threw an exception: ' + e + ' stack trace: ' + e.getStackTraceString());
        }

        Test.stopTest();

        System.assertNotEquals(null, appInfo.loanErrors);
        System.assertEquals(1, appInfo.loanErrors.size());
    }

    @IsTest
    private static void testInvalidXml() {
        String testData = '{"applicant":{"person":{"tax_id":"599-99-1112","first_name":"Aaron","last_name":"Hansen","birth_date":"1982-01-03","home_phone":{"country_code":null,"phone_number":"3081231234","extension":null},"mobile_phone":{"country_code":null,"phone_number":null,"extension":null},"work_phone":{"country_code":null,"phone_number":null,"extension":null},"email":"avokatest123","identification":{"type":"drivers_license","id_number":"DB195346C","issuing_authority":"ID","issue_date":"1988-07-06","expire_date":"1988-07-06"},"primary_address":{"line_1":"123 Main Street","line_2":"","city":"Twin Falls","state":"ID","postal_code":"83301","country":"USA","is_preferred":true},"user_fields":[]},"persona":"unknown","membership_eligibility":"","system_info":[{"system_name":"SFDC","everything":"","status":"success","decision":"APPROVE","tracking_number":"XHCVWHN","system_display_name":"SFDC-Contact Check"},{"system_name":"CreateApp","everything":"s:Envelope xmlns:s=\\"http://schemas.xmlsoap.org/soap/envelope/\\"&gt;&lt;s:Body xmlns:xsi=\\"http://www.w3.org/2001/XMLSchema-instance\\" xmlns:xsd=\\"http://www.w3.org/2001/XMLSchema\\"&gt;&lt;SubmitExResponse xmlns=\\"http://tempuri.org/\\"&gt;&lt;SubmitExResult&gt;&lt;routing xmlns=\\"BizTalkMessage\\"&gt;&lt;org orgID=\\"4\\" orgCode=\\"ICCU\\"/&gt;&lt;action transactionType=\\"API\\"/&gt;&lt;user userName=\\"ICCUImportUser\\"/&gt;&lt;interface interfaceID=\\"600001\\"/&gt;&lt;system/&gt;&lt;approResult&gt;&lt;result&gt;Success&lt;/result&gt;&lt;/approResult&gt;&lt;/routing&gt;&lt;body xmlns=\\"BizTalkMessage\\"&gt;&lt;actionAPI version=\\"1\\" xmlns=\\"\\"&gt;&lt;createApp&gt;&lt;msg:appImportResponse msg:approVersion=\\"4.1\\" xmlns:msg=\\"Messages\\" xmlns:app=\\"App\\" xmlns:maint=\\"Maint\\" xmlns:util=\\"Util\\" xmlns:common=\\"Common\\"&gt;&lt;msg:approResult&gt;&lt;common:result&gt;Success&lt;/common:result&gt;&lt;/msg:approResult&gt;&lt;msg:appIDs&gt;&lt;msg:appID&gt;30007340&lt;/msg:appID&gt;&lt;/msg:appIDs&gt;&lt;msg:applications&gt;&lt;app:files/&gt;&lt;app:application app:applicationID=\\"30007340\\" app:appNum=\\"30007340\\" app:appReceivedDate=\\"2018-08-15T15:05:29.176\\" app:appInitiatedDate=\\"2018-08-15T15:05:29.176\\" app:priorityCD=\\"High\\" app:deliveryMethodCD=\\"Internet\\" app:applicantStructureTypeCD=\\"Individual\\" app:referenceNumber=\\"AVOKA-DEV-886ba90e-2d52-42c6-974e-f3b5513517e2\\"&gt;&lt;app:appParties&gt;&lt;app:primaryBorrower common:idRef=\\"bd841526-48fb-43f3-9132-7b67e3b65b29\\" common:partyType=\\"Individual\\"&gt;&lt;app:appPartyResources&gt;&lt;app:appPartyResource app:resourceID=\\"98\\"/&gt;&lt;/app:appPartyResources&gt;&lt;/app:primaryBorrower&gt;&lt;app:sourceChannel common:idRef=\\"b8c9d648-3fb7-48f6-988e-ce6b5332f448\\" common:partyType=\\"Channel\\" app:appPartyType=\\"SourceChannel\\"/&gt;&lt;app:servicingChannel common:idRef=\\"5f798809-1215-40a7-bed6-52fc700c4bfc\\" common:partyType=\\"Channel\\" app:appPartyType=\\"ServicingChannel\\"/&gt;&lt;/app:appParties&gt;&lt;app:parties&gt;&lt;common:employer common:id=\\"cfe014ba-8b3d-4609-a767-7ff380eebcfd\\" common:partyID=\\"1007112\\" common:languageID=\\"English\\" common:beginDate=\\"2018-08-15T21:05:31.613\\" common:name=\\"Centurylink\\"&gt;&lt;common:contactMechanisms&gt;&lt;common:contactMechanism common:contactMechanismID=\\"3148826\\" common:contactMechanismType=\\"WorkPhone\\" common:contactString=\\"2087659987\\" common:isPreferredContactMechanismFL=\\"false\\"&gt;&lt;common:contactMechanismCategory common:isNew=\\"false\\" common:CD=\\"1\\"/&gt;&lt;/common:contactMechanism&gt;&lt;/common:contactMechanisms&gt;&lt;/common:employer&gt;&lt;common:channel common:id=\\"5f798809-1215-40a7-bed6-52fc700c4bfc\\" common:isNew=\\"false\\" common:partyID=\\"12009\\"/&gt;&lt;common:user common:id=\\"801f914d-b637-41b3-af83-d9be2f8bb793\\" common:isNew=\\"false\\" common:partyID=\\"990547\\" common:beginDate=\\"2018-05-08T14:40:31.73\\" common:timeZoneCode=\\"MST\\"&gt;&lt;common:partyTypes&gt;&lt;common:partyType&gt;User&lt;/common:partyType&gt;&lt;common:partyType&gt;LoanOfficer&lt;/common:partyType&gt;&lt;/common:partyTypes&gt;&lt;/common:user&gt;&lt;common:channel common:id=\\"b8c9d648-3fb7-48f6-988e-ce6b5332f448\\" common:isNew=\\"false\\" common:partyID=\\"12009\\"/&gt;&lt;common:organization common:id=\\"6b1fc6f4-5385-4669-8e8f-19041cc91924\\" common:isNew=\\"false\\" common:partyID=\\"4\\" common:name=\\"Idaho Central CU\\" common:description=\\"LoanCenter\\"&gt;&lt;common:partyRelationships&gt;&lt;common:partyRelationship common:relationshipType=\\"OrganizationToCustomerDataOwnership\\"&gt;&lt;common:partyRef common:isNew=\\"false\\" common:idRef=\\"bd841526-48fb-43f3-9132-7b67e3b65b29\\" common:partyType=\\"Individual\\"/&gt;&lt;/common:partyRelationship&gt;&lt;/common:partyRelationships&gt;&lt;/common:organization&gt;&lt;common:group common:id=\\"acd871aa-21f5-4e6c-a4ec-054a6deeb2b8\\" common:isNew=\\"false\\" common:partyID=\\"11878\\"&gt;&lt;common:partyTypes&gt;&lt;common:partyType&gt;Team&lt;/common:partyType&gt;&lt;/common:partyTypes&gt;&lt;/common:group&gt;&lt;common:individual common:id=\\"bd841526-48fb-43f3-9132-7b67e3b65b29\\" common:partyID=\\"1007111\\" common:languageID=\\"English\\" common:beginDate=\\"2018-08-15T21:05:31.597\\" common:ssn=\\"599991112\\" common:firstName=\\"Aaron\\" common:lastName=\\"Hansen\\" common:dob=\\"1982-01-03\\" common:age=\\"36\\" common:mothersMaidenName=\\"null\\" common:isPermanentResidentFL=\\"false\\" common:hasAlienRegNumFL=\\"false\\" common:numOfDependants=\\"0\\" common:isExistingCustomerFL=\\"false\\"&gt;&lt;common:contactMechanisms&gt;&lt;common:contactMechanism common:contactMechanismID=\\"3148820\\" common:contactMechanismType=\\"CurrentAddress\\" common:isPreferredContactMechanismFL=\\"false\\"&gt;&lt;common:addressRef common:isNew=\\"false\\" common:idRef=\\"7cda0b9e-71d0-4dae-9883-45b580ff31c4\\"/&gt;&lt;common:contactMechanismCategory common:isNew=\\"false\\" common:CD=\\"2\\"/&gt;&lt;/common:contactMechanism&gt;&lt;common:contactMechanism common:contactMechanismID=\\"3148821\\" common:contactMechanismType=\\"MailingAddress\\" common:isPreferredContactMechanismFL=\\"false\\"&gt;&lt;common:addressRef common:isNew=\\"false\\" common:idRef=\\"7cda0b9e-71d0-4dae-9883-45b580ff31c4\\"/&gt;&lt;common:contactMechanismCategory common:isNew=\\"false\\" common:CD=\\"2\\"/&gt;&lt;/common:contactMechanism&gt;&lt;common:contactMechanism common:contactMechanismID=\\"3148822\\" common:contactMechanismType=\\"HomePhone\\" common:contactString=\\"2084661111\\" common:isPreferredContactMechanismFL=\\"false\\"&gt;&lt;common:contactMechanismCategory common:isNew=\\"false\\" common:CD=\\"1\\"/&gt;&lt;/common:contactMechanism&gt;&lt;common:contactMechanism common:contactMechanismID=\\"3148823\\" common:contactMechanismType=\\"WorkPhone\\" common:contactString=\\"2089493333\\" common:isPreferredContactMechanismFL=\\"false\\"&gt;&lt;common:contactMechanismCategory common:isNew=\\"false\\" common:CD=\\"1\\"/&gt;&lt;/common:contactMechanism&gt;&lt;common:contactMechanism common:contactMechanismID=\\"3148824\\" common:contactMechanismType=\\"CellPhone\\" common:contactString=\\"2084662222\\" common:isPreferredContactMechanismFL=\\"false\\"&gt;&lt;common:contactMechanismCategory common:isNew=\\"false\\" common:CD=\\"1\\"/&gt;&lt;/common:contactMechanism&gt;&lt;common:contactMechanism common:contactMechanismID=\\"3148825\\" common:contactMechanismType=\\"EMail\\" common:contactString=\\"avokatest123@gmail.com\\" common:isPreferredContactMechanismFL=\\"false\\"&gt;&lt;common:contactMechanismCategory common:isNew=\\"false\\"/&gt;&lt;/common:contactMechanism&gt;&lt;/common:contactMechanisms&gt;&lt;common:partyRelationships&gt;&lt;common:employment common:relationshipType=\\"Employment\\"&gt;&lt;common:partyRef common:isNew=\\"true\\" common:idRef=\\"cfe014ba-8b3d-4609-a767-7ff380eebcfd\\" common:partyType=\\"Employer\\"/&gt;&lt;common:employmentSubRel common:isNew=\\"false\\" common:isCurrentFL=\\"true\\" common:title=\\"testing\\" common:monthsEmployed=\\"209\\" common:employmentType=\\"FullTime\\"&gt;&lt;common:userEmploymentType common:isNew=\\"false\\" common:CD=\\"2\\"/&gt;&lt;/common:employmentSubRel&gt;&lt;/common:employment&gt;&lt;/common:partyRelationships&gt;&lt;common:partyIdentifications&gt;&lt;common:partyIdentification common:IDNum=\\"DB195346C\\" common:dateOfIssuance=\\"1988-07-06T00:00:00-05:00\\" common:issuanceEntity=\\"ID\\" common:expirationDate=\\"1988-07-06T00:00:00-05:00\\" common:partyIdentificationID=\\"11471\\"&gt;&lt;common:identificationCD common:isNew=\\"false\\" common:lookupType=\\"IdentificationType\\" common:CD=\\"D\\" common:name=\\"Salesforce Drivers License\\" common:isActive=\\"true\\"/&gt;&lt;/common:partyIdentification&gt;&lt;/common:partyIdentifications&gt;&lt;common:incomes&gt;&lt;common:income common:incomeID=\\"18732\\" common:IncomeTypeCD=\\"Salary\\" common:frequency=\\"Annually\\" common:amountPerPeriod=\\"75000\\" common:hoursPerWeek=\\"40\\" common:incomeStatus=\\"IncomeStatus_Included\\" common:incomeAdjustmentPercentage=\\"1\\"&gt;&lt;common:employerRef common:isNew=\\"true\\" common:idRef=\\"cfe014ba-8b3d-4609-a767-7ff380eebcfd\\"/&gt;&lt;/common:income&gt;&lt;/common:incomes&gt;&lt;common:trades&gt;&lt;common:trade common:tradeID=\\"127572\\" common:accountTypeCD=\\"RealEstateMortgage\\" common:tradeTypeID=\\"Mortgage\\" common:creditorName=\\"\\" common:debtStatusCD=\\"Include\\" common:ecoaCD=\\"Individual\\" common:monthlyPayment=\\"1100\\" common:isCurrResidenceRentMortgage=\\"true\\" common:isSecured=\\"true\\"&gt;&lt;common:kindOfBusiness common:isNew=\\"false\\" common:lookupType=\\"KOB\\" common:CD=\\"FM\\"/&gt;&lt;/common:trade&gt;&lt;/common:trades&gt;&lt;/common:individual&gt;&lt;/app:parties&gt;&lt;app:appDetails&gt;&lt;app:appDetailBankcard app:appDetailID=\\"11233\\" app:appDetailSavePoint=\\"Current\\" app:contractDate=\\"2018-08-15T21:05:31.6233309\\" app:contractRate=\\"0.000\\" app:financedAmt=\\"500\\" app:equityPercentage=\\"0\\" app:termInMonths=\\"0\\" app:margin=\\"0.0949\\" app:daysPerYear=\\"360\\" app:loanType=\\"Consumer\\" app:interestRateType=\\"Variable\\" app:rankNum=\\"1\\" app:maxRateAdjInc=\\"0.050\\" app:maxRateAdjDec=\\"0.020\\" app:maxContractRate=\\"0.1799\\" app:minContractRate=\\"0.1099\\" app:lifetimeInterestRateMinimum=\\"0.1099\\" app:baseRate=\\"0.04500000\\" app:requestType=\\"New\\" app:insuranceOptionID=\\"1\\" app:paymentCalculationType=\\"PctOfAmountRequested\\" app:requestedAmountPaymentPct=\\"0.020\\"&gt;&lt;app:appDetailParties&gt;&lt;app:appDetailParty common:idRef=\\"b8c9d648-3fb7-48f6-988e-ce6b5332f448\\" common:partyType=\\"Channel\\" app:appPartyType=\\"SourceChannel\\"/&gt;&lt;app:appDetailParty common:idRef=\\"5f798809-1215-40a7-bed6-52fc700c4bfc\\" common:partyType=\\"Channel\\" app:appPartyType=\\"ServicingChannel\\"/&gt;&lt;app:appDetailParty common:idRef=\\"801f914d-b637-41b3-af83-d9be2f8bb793\\" common:partyType=\\"User\\" app:appPartyType=\\"LoanOfficer\\"/&gt;&lt;app:appDetailParty common:idRef=\\"acd871aa-21f5-4e6c-a4ec-054a6deeb2b8\\" app:appPartyType=\\"QueuedFromUser\\"/&gt;&lt;/app:appDetailParties&gt;&lt;app:appDetailRequestedAmts&gt;&lt;app:appDetailRequestedAmt app:appDetailRequestedAmtID=\\"81109\\" app:requestedAmount=\\"500\\" app:requestedAmountType=\\"Generic\\"/&gt;&lt;/app:appDetailRequestedAmts&gt;&lt;app:appDetailStatuses&gt;&lt;app:appDetailStatus app:appDetailStatusID=\\"31177\\" app:statusType=\\"WorkflowStatus\\" app:status=\\"WorkflowStatus_DataAcquisition\\"/&gt;&lt;/app:appDetailStatuses&gt;&lt;app:product common:isNew=\\"false\\" common:productID=\\"134\\" common:beginDate=\\"2016-05-16T00:00:00\\" common:shortName=\\"Premier Rewards Visa\\" common:name=\\"Premier Rewards Visa\\" common:isActiveFL=\\"true\\" common:productTypeID=\\"CreditCard\\" common:loanType=\\"Consumer\\" common:liquidCreditProductCategoryCD=\\"2000\\" common:orgID=\\"4\\"&gt;&lt;common:organizationRef common:isNew=\\"false\\" common:idRef=\\"54df1988-96bf-4c8e-9b87-5d0304947932\\"/&gt;&lt;common:productCategory common:isNew=\\"false\\" common:productCategoryID=\\"25\\" common:name=\\"Credit Card Products\\" common:description=\\"Credit Card Products\\" common:isActiveFL=\\"true\\"&gt;&lt;common:organizationRef common:isNew=\\"false\\" common:idRef=\\"54df1988-96bf-4c8e-9b87-5d0304947932\\"/&gt;&lt;/common:productCategory&gt;&lt;common:initialTeamRef common:isNew=\\"false\\" common:idRef=\\"730a1a9a-a86d-49f9-ad02-503b1ad53c05\\"/&gt;&lt;common:productFormPackage common:isNew=\\"false\\" common:CD=\\"1\\" common:name=\\"Credit Card\\" common:formPackageTypeID=\\"1\\"/&gt;&lt;/app:product&gt;&lt;app:appDetailStipulations&gt;&lt;app:appDetailStipulation app:appDetailStipulationID=\\"73557\\" app:status=\\"Open\\" app:name=\\"Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger.\\"&gt;&lt;app:stipulation common:isNew=\\"false\\" common:stipulationID=\\"16\\" common:name=\\"Duplicate Fraud Alerts:  Select satisfied if a trigger happened and it was addressed in notes.  Select waived if an alert did not trigger.\\" common:sortOrder=\\"0\\"/&gt;&lt;app:stipulationSource common:isNew=\\"false\\" common:CD=\\"2\\"/&gt;&lt;/app:appDetailStipulation&gt;&lt;app:appDetailStipulation app:appDetailStipulationID=\\"73558\\" app:status=\\"Open\\" app:name=\\"Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification.\\"&gt;&lt;app:stipulation common:isNew=\\"false\\" common:stipulationID=\\"17\\" common:name=\\"Employment Income Verification:  Select satisfied if verification was obtained and/or documented or imaged.  Select waived if the loan meets guidelines to waive verification.\\" common:sortOrder=\\"1\\"/&gt;&lt;app:stipulationSource common:isNew=\\"false\\" common:CD=\\"2\\"/&gt;&lt;/app:appDetailStipulation&gt;&lt;app:appDetailStipulation app:appDetailStipulationID=\\"73559\\" app:status=\\"Open\\" app:name=\\"Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates.\\"&gt;&lt;app:stipulation common:isNew=\\"false\\" common:stipulationID=\\"18\\" common:name=\\"Loan Aggregates:  Select satisfied if the loan needs to go to Loan Committee for approval due to aggregates.  Select waived if the loan does not need to go to Loan Committee due to aggregates.\\" common:sortOrder=\\"2\\"/&gt;&lt;app:stipulationSource common:isNew=\\"false\\" common:CD=\\"2\\"/&gt;&lt;/app:appDetailStipulation&gt;&lt;/app:appDetailStipulations&gt;&lt;app:riskProcessingLevel common:isNew=\\"false\\" common:lookupType=\\"RPL\\" common:CD=\\"1\\"/&gt;&lt;app:pricingPlan common:isNew=\\"false\\" common:planID=\\"19\\"/&gt;&lt;app:appDetailIndirect common:isNew=\\"false\\" app:payDealerNow=\\"false\\" app:payOriginationFeeNow=\\"false\\" app:calcOriginationFeeFL=\\"false\\" app:useCRBRRuleFL=\\"false\\" app:isOriginationFeeValuePct=\\"false\\" app:calcDiscountFL=\\"false\\" app:globalDiscountFL=\\"true\\" app:federalDisclosureFL=\\"false\\"/&gt;&lt;app:loanPurposes&gt;&lt;app:appDetailLoanPurpose app:rank=\\"1\\"&gt;&lt;app:loanPurpose common:isNew=\\"false\\" common:CD=\\"18\\"/&gt;&lt;/app:appDetailLoanPurpose&gt;&lt;/app:loanPurposes&gt;&lt;app:contractRateIndex common:isNew=\\"true\\" common:rateIndexID=\\"2\\"/&gt;&lt;app:appDetailProcessQuestionResponses&gt;&lt;app:appDetailQuestionResponse app:appDetailQuestionResponseID=\\"32931\\" app:processID=\\"51\\" app:ordernum=\\"2\\"&gt;&lt;app:question common:isNew=\\"false\\" common:questionID=\\"86\\"/&gt;&lt;app:lookupResponse common:isNew=\\"false\\" common:CD=\\"2\\"/&gt;&lt;/app:appDetailQuestionResponse&gt;&lt;/app:appDetailProcessQuestionResponses&gt;&lt;/app:appDetailBankcard&gt;&lt;/app:appDetails&gt;&lt;app:properties/&gt;&lt;app:addresses&gt;&lt;common:address common:id=\\"7cda0b9e-71d0-4dae-9883-45b580ff31c4\\" common:addressID=\\"1489554\\" common:street1=\\"15122 Wagner Road\\" common:street2=\\"\\" common:postalCode=\\"83221\\" common:cityName=\\"Blackfoot\\" common:monthsResided=\\"220\\" common:state=\\"ID\\" common:country=\\"UnitedStates\\"&gt;&lt;common:residenceType common:isNew=\\"false\\" common:CD=\\"N\\"/&gt;&lt;/common:address&gt;&lt;/app:addresses&gt;&lt;app:scores/&gt;&lt;app:org common:isNew=\\"false\\" common:idRef=\\"6b1fc6f4-5385-4669-8e8f-19041cc91924\\"/&gt;&lt;app:appServiceRequests/&gt;&lt;app:vehicleValuations/&gt;&lt;app:deliverySource common:isNew=\\"false\\" common:CD=\\"600001\\"/&gt;&lt;app:serviceRequestGroups/&gt;&lt;/app:application&gt;&lt;/msg:applications&gt;&lt;/msg:appImportResponse&gt;&lt;/createApp&gt;&lt;/actionAPI&gt;&lt;/body&gt;&lt;/SubmitExResult&gt;&lt;/SubmitExResponse&gt;&lt;/s:Body&gt;&lt;/s:Envelope&gt;","status":"success","decision":"APPROVE","tracking_number":"ZXK7TTF","system_display_name":"CRIF - CreateApp"},{"system_name":"CrifDecisioning","everything":"","status":"success","decision":"APPROVE","tracking_number":"ZXK7TTF","system_display_name":"CRIF - Decisioning"}]},"co_applicants":[],"products":[{"product_name":"Premier Rewards Visa","major_type":"CRIF","minor_type":"134"}],"promotions":[],"funding_info":{},"reports":[],"app_status":"complete","version":"3","form":{"name":"accountsandfunding","tracking_code":"ZXK7TTF","job_reference_code":"ZXK7TTF","url":"https://test.iccu.avoka-transact.com/apps/secure/form.htm?submitKey=7d0d72a41dfe8aba616181774f1539a1"},"application_id":""}';
        AOApplicationRestRequest request = AOApplicationRestRequest.parse(testData);
        AOApplicationInfo appInfo = new AOApplicationInfo(request);

        Test.startTest();

        AOCRIFCreateAppDecisionLogParser parser = new AOCRIFCreateAppDecisionLogParser();
        try {
            parser.parsePayload(request.applicant.system_info, appInfo);
        } catch(Exception e) {
            System.assert(false, 'Threw an exception: ' + e + ' stack trace: ' + e.getStackTraceString());
        }

        Test.stopTest();

        String systemName = parser.getSystemName();
        AOInteractionResult result = appInfo.systemInteractionResults.get(systemName);

        System.assertNotEquals(null, result);
        System.assertEquals(AOInteractionResult.State.ERROR, result.state);
    }

}